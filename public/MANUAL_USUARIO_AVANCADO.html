<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual do UsuÃ¡rio AvanÃ§ado - SentencifyAI v1.40.20</title>

    <!-- Google Fonts: Playfair Display + Plus Jakarta Sans + JetBrains Mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           THEME VARIABLES - Synchronized with SentencifyAI via sentencify-app-theme
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        :root[data-theme="dark"] {
            /* Backgrounds */
            --bg-app: #0f172a;
            --bg-primary: #1e293b;
            --bg-secondary: #334155;
            --bg-tertiary: #475569;
            --bg-card: rgba(51, 65, 85, 0.5);
            --bg-primary-rgb: 30, 41, 59;

            /* Text */
            --text-primary: #ffffff;
            --text-secondary: #e2e8f0;
            --text-muted: #94a3b8;

            /* Accents */
            --accent-purple: #c084fc;
            --accent-blue: #60a5fa;
            --accent-green: #4ade80;
            --accent-amber: #fbbf24;
            --accent-red: #f87171;
            --accent-cyan: #22d3ee;
            --accent-purple-rgb: 192, 132, 252;
            --accent-blue-rgb: 96, 165, 250;

            /* Borders & Effects */
            --border-primary: #475569;
            --border-subtle: rgba(255, 255, 255, 0.1);
            --glow-purple: rgba(139, 92, 246, 0.15);
            --glow-blue: rgba(59, 130, 246, 0.1);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);

            /* Header specific */
            --header-bg: rgba(30, 41, 59, 0.85);
        }

        :root[data-theme="light"] {
            /* Backgrounds - Warm stone palette */
            --bg-app: #f5f3ef;
            --bg-primary: #fefcf3;
            --bg-secondary: #e8e6e1;
            --bg-tertiary: #d4d2cd;
            --bg-card: rgba(254, 252, 243, 0.9);
            --bg-primary-rgb: 254, 252, 243;

            /* Text */
            --text-primary: #1c1917;
            --text-secondary: #292524;
            --text-muted: #78716c;

            /* Accents - Darker for contrast */
            --accent-purple: #7c3aed;
            --accent-blue: #1d4ed8;
            --accent-green: #15803d;
            --accent-amber: #b45309;
            --accent-red: #b91c1c;
            --accent-cyan: #0891b2;
            --accent-purple-rgb: 124, 58, 237;
            --accent-blue-rgb: 29, 78, 216;

            /* Borders & Effects */
            --border-primary: #a8a29e;
            --border-subtle: rgba(0, 0, 0, 0.1);
            --glow-purple: rgba(124, 58, 237, 0.08);
            --glow-blue: rgba(29, 78, 216, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);

            /* Header specific */
            --header-bg: rgba(254, 252, 243, 0.85);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BASE STYLES & TYPOGRAPHY
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Custom Scrollbar */
        * {
            scrollbar-width: thin;
            scrollbar-color: var(--accent-purple) transparent;
        }

        *::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        *::-webkit-scrollbar-track {
            background: transparent;
        }

        *::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--accent-purple), var(--accent-blue));
            border-radius: 3px;
        }

        body {
            font-family: 'Plus Jakarta Sans', system-ui, -apple-system, sans-serif;
            background: var(--bg-app);
            color: var(--text-primary);
            line-height: 1.7;
            min-height: 100vh;
            font-size: 1rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HEADER - Glassmorphism with gradient accent line
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .header {
            background: var(--header-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            padding: 1.5rem 2rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--border-subtle);
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue), var(--accent-purple));
            background-size: 200% 100%;
            animation: gradientShift 8s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .header h1 {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 2.25rem;
            font-weight: 600;
            margin-bottom: 0.375rem;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }

        .header .subtitle {
            color: var(--text-muted);
            font-size: 0.9375rem;
            font-weight: 500;
        }

        .header-controls {
            position: absolute;
            right: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 0.5rem;
        }

        .theme-toggle {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 0.5rem 0.875rem;
            border-radius: 0.625rem;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 1.125rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .theme-toggle:hover {
            background: var(--bg-tertiary);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px var(--glow-purple);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MAIN LAYOUT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .main-container {
            display: flex;
            max-width: 1600px;
            margin: 0 auto;
            min-height: calc(100vh - 100px);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SIDEBAR NAVIGATION - Gradient indicator + slide animation
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .sidebar {
            width: 280px;
            background: var(--bg-primary);
            border-right: 1px solid var(--border-subtle);
            padding: 1.25rem 0;
            position: sticky;
            top: 100px;
            height: calc(100vh - 100px);
            overflow-y: auto;
        }

        .nav-section {
            margin-bottom: 1.25rem;
        }

        .nav-section-title {
            padding: 0.625rem 1.5rem;
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-size: 0.6875rem;
            font-weight: 700;
            text-transform: uppercase;
            color: var(--text-muted);
            letter-spacing: 0.08em;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 0.875rem;
            padding: 0.6875rem 1.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 3px solid transparent;
            font-size: 0.9375rem;
            font-weight: 500;
            position: relative;
        }

        .nav-item:hover {
            background: var(--bg-secondary);
            color: var(--text-primary);
            transform: translateX(4px);
        }

        .nav-item.active {
            background: linear-gradient(90deg,
                rgba(var(--accent-purple-rgb), 0.15),
                transparent
            );
            border-left: 3px solid var(--accent-purple);
            color: var(--accent-purple);
        }

        .nav-icon {
            font-size: 1.125rem;
            width: 1.5rem;
            text-align: center;
            flex-shrink: 0;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CONTENT AREA
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .content {
            flex: 1;
            padding: 2.5rem;
            overflow-y: auto;
            background: var(--bg-app);
        }

        .tab-content {
            display: none;
            animation: fadeInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SECTION HEADERS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .section-header {
            display: flex;
            align-items: center;
            gap: 1.25rem;
            margin-bottom: 2.25rem;
            padding-bottom: 1.25rem;
            border-bottom: 1px solid var(--border-subtle);
            position: relative;
        }

        .section-header::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 80px;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue));
            border-radius: 1px;
        }

        .section-icon {
            font-size: 2.25rem;
        }

        .section-title {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--text-primary);
            letter-spacing: -0.01em;
        }

        .section-subtitle {
            color: var(--text-muted);
            font-size: 0.9375rem;
            font-weight: 500;
            margin-top: 0.125rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CARDS - Subtle glow on hover
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .card {
            background: var(--bg-card);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-radius: 1rem;
            padding: 1.75rem;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-subtle);
            transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow:
                0 0 40px var(--glow-purple),
                0 0 80px var(--glow-blue);
            border-color: rgba(var(--accent-purple-rgb), 0.2);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 0.875rem;
            margin-bottom: 1.125rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-subtle);
        }

        .card-icon {
            font-size: 1.375rem;
        }

        .card-title {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FEATURE GRID
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .feature-item {
            background: var(--bg-secondary);
            padding: 1.125rem;
            border-radius: 0.875rem;
            display: flex;
            align-items: flex-start;
            gap: 0.875rem;
            border: 1px solid var(--border-subtle);
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .feature-item:hover {
            background: var(--bg-tertiary);
            transform: translateX(4px);
        }

        .feature-icon {
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .feature-text h4 {
            font-size: 0.9375rem;
            font-weight: 600;
            margin-bottom: 0.3125rem;
            color: var(--text-primary);
        }

        .feature-text p {
            font-size: 0.875rem;
            color: var(--text-muted);
            line-height: 1.5;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           TABLES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .table-container {
            overflow-x: auto;
            margin: 1.25rem 0;
            border-radius: 0.75rem;
            border: 1px solid var(--border-subtle);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th, td {
            padding: 0.875rem 1.125rem;
            text-align: left;
            border-bottom: 1px solid var(--border-subtle);
        }

        th {
            background: var(--bg-tertiary);
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-weight: 600;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
        }

        tr {
            transition: background 0.2s ease;
        }

        tr:hover {
            background: rgba(var(--accent-purple-rgb), 0.05);
        }

        tr:last-child td {
            border-bottom: none;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BADGES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.3125rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .badge-blue {
            background: linear-gradient(135deg, rgba(var(--accent-blue-rgb), 0.15), rgba(var(--accent-blue-rgb), 0.25));
            color: var(--accent-blue);
        }
        .badge-purple {
            background: linear-gradient(135deg, rgba(var(--accent-purple-rgb), 0.15), rgba(var(--accent-blue-rgb), 0.15));
            color: var(--accent-purple);
        }
        .badge-green {
            background: rgba(74, 222, 128, 0.15);
            color: var(--accent-green);
        }
        .badge-amber {
            background: rgba(251, 191, 36, 0.15);
            color: var(--accent-amber);
        }
        .badge-red {
            background: rgba(248, 113, 113, 0.15);
            color: var(--accent-red);
        }
        .badge-cyan {
            background: rgba(34, 211, 238, 0.15);
            color: var(--accent-cyan);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           TIP BOXES / ALERTS - Gradient border effect
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .tip-box {
            padding: 1.125rem 1.375rem;
            border-radius: 0.875rem;
            margin: 1.25rem 0;
            display: flex;
            gap: 0.875rem;
            align-items: flex-start;
            position: relative;
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            transition: all 0.25s ease;
        }

        .tip-box::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            border-radius: 0.875rem 0 0 0.875rem;
        }

        .tip-box:hover {
            transform: translateX(2px);
        }

        .tip-box.info {
            background: rgba(var(--accent-blue-rgb), 0.05);
        }
        .tip-box.info::before {
            background: linear-gradient(180deg, #60a5fa, #3b82f6);
        }

        .tip-box.success {
            background: rgba(74, 222, 128, 0.05);
        }
        .tip-box.success::before {
            background: linear-gradient(180deg, #4ade80, #22c55e);
        }

        .tip-box.warning {
            background: rgba(251, 191, 36, 0.05);
        }
        .tip-box.warning::before {
            background: linear-gradient(180deg, #fbbf24, #f59e0b);
        }

        .tip-box.danger {
            background: rgba(248, 113, 113, 0.05);
        }
        .tip-box.danger::before {
            background: linear-gradient(180deg, #f87171, #ef4444);
        }

        .tip-icon {
            font-size: 1.25rem;
            flex-shrink: 0;
            margin-top: 0.125rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           STEPS - Gradient circle + ring + connecting line
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .steps {
            margin: 1.75rem 0;
        }

        .step {
            display: flex;
            gap: 1.125rem;
            margin-bottom: 0;
            padding: 1rem 0;
            position: relative;
        }

        .step:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 1.1875rem;
            top: 3.25rem;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, var(--accent-purple), rgba(var(--accent-purple-rgb), 0.2));
        }

        .step-number {
            width: 2.375rem;
            height: 2.375rem;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9375rem;
            flex-shrink: 0;
            box-shadow: 0 0 0 4px rgba(var(--accent-purple-rgb), 0.2);
            position: relative;
            z-index: 1;
        }

        .step-content {
            padding-top: 0.25rem;
        }

        .step-content h4 {
            font-weight: 600;
            margin-bottom: 0.375rem;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .step-content p {
            color: var(--text-muted);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           KEYBOARD SHORTCUTS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        kbd {
            background: var(--bg-tertiary);
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 0.8125rem;
            font-weight: 500;
            border: 1px solid var(--border-primary);
            box-shadow: 0 2px 0 var(--border-primary);
            color: var(--text-secondary);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           COLLAPSIBLE SECTIONS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .collapsible {
            margin: 1rem 0;
        }

        .collapsible-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 1.125rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            border-radius: 0.625rem;
            cursor: pointer;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .collapsible-header:hover {
            background: var(--bg-tertiary);
            transform: translateX(4px);
        }

        .collapsible-header h3 {
            display: flex;
            align-items: center;
            gap: 0.625rem;
            font-size: 0.9375rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .collapsible-arrow {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        .collapsible.open .collapsible-arrow {
            transform: rotate(180deg);
        }

        .collapsible.open .collapsible-header {
            border-radius: 0.625rem 0.625rem 0 0;
            border-bottom-color: transparent;
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .collapsible.open .collapsible-content {
            max-height: 5000px;
        }

        .collapsible-inner {
            padding: 1.125rem;
            background: var(--bg-primary);
            border: 1px solid var(--border-subtle);
            border-top: none;
            border-radius: 0 0 0.625rem 0.625rem;
        }

        .collapsible-inner p {
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .collapsible-inner p:last-child {
            margin-bottom: 0;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FLOW DIAGRAM
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .flow-diagram {
            display: flex;
            flex-wrap: wrap;
            gap: 0.625rem;
            align-items: center;
            justify-content: center;
            margin: 1.75rem 0;
            padding: 1.75rem;
            background: var(--bg-secondary);
            border-radius: 1rem;
            border: 1px solid var(--border-subtle);
        }

        .flow-step {
            background: var(--bg-card);
            padding: 0.875rem 1.375rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border-subtle);
            text-align: center;
            min-width: 110px;
            transition: all 0.25s ease;
        }

        .flow-step:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px var(--glow-purple);
            border-color: var(--accent-purple);
        }

        .flow-step-icon {
            font-size: 1.5rem;
            display: block;
            margin-bottom: 0.375rem;
        }

        .flow-step div {
            font-size: 0.8125rem;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .flow-arrow {
            color: var(--accent-purple);
            font-size: 1.375rem;
            opacity: 0.7;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SEARCH HIGHLIGHT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .highlight {
            background: rgba(251, 191, 36, 0.25);
            padding: 0.125rem 0.3125rem;
            border-radius: 0.25rem;
            color: inherit;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CODE BLOCKS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        code {
            background: var(--bg-tertiary);
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 0.8125rem;
            color: var(--accent-purple);
        }

        pre {
            background: var(--bg-tertiary);
            padding: 1.25rem;
            border-radius: 0.75rem;
            overflow-x: auto;
            font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 0.8125rem;
            line-height: 1.6;
            margin: 1.25rem 0;
            border: 1px solid var(--border-subtle);
        }

        pre code {
            background: none;
            padding: 0;
            color: var(--text-secondary);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        @media (max-width: 1024px) {
            .sidebar {
                display: none;
            }
            .main-container {
                flex-direction: column;
            }
            .header h1 {
                font-size: 1.625rem;
            }
            .header .subtitle {
                font-size: 0.8125rem;
            }
            .header-controls {
                position: static;
                transform: none;
                justify-content: center;
                margin-top: 1rem;
            }
            .content {
                padding: 1.5rem;
            }
            .section-title {
                font-size: 1.5rem;
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MOBILE NAVIGATION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .mobile-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--header-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-top: 1px solid var(--border-subtle);
            padding: 0.625rem;
            z-index: 100;
            overflow-x: auto;
        }

        .mobile-nav::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue), var(--accent-purple));
            background-size: 200% 100%;
            animation: gradientShift 8s ease infinite;
        }

        @media (max-width: 1024px) {
            .mobile-nav {
                display: flex;
                gap: 0.375rem;
            }
            .content {
                padding-bottom: 5.5rem;
            }
        }

        .mobile-nav-item {
            flex: 0 0 auto;
            padding: 0.5rem 0.75rem;
            border-radius: 0.625rem;
            font-size: 0.6875rem;
            text-align: center;
            cursor: pointer;
            background: transparent;
            color: var(--text-muted);
            border: none;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
        }

        .mobile-nav-item:hover {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .mobile-nav-item.active {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            color: white;
        }

        .mobile-nav-item span {
            display: block;
            font-size: 1.125rem;
            margin-bottom: 0.125rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           QUICK REFERENCE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .quick-ref {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.625rem;
            margin: 1.25rem 0;
        }

        .quick-ref-item {
            display: flex;
            align-items: center;
            gap: 0.625rem;
            padding: 0.625rem 0.75rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            border-radius: 0.625rem;
            font-size: 0.875rem;
            color: var(--text-secondary);
            transition: all 0.2s ease;
        }

        .quick-ref-item:hover {
            background: var(--bg-tertiary);
            transform: translateX(2px);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PROGRESS INDICATOR
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .progress-bar {
            height: 4px;
            background: var(--bg-tertiary);
            border-radius: 2px;
            overflow: hidden;
            margin: 0.625rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue));
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           STAGGERED ANIMATIONS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .card {
            animation: fadeInUp 0.5s ease-out backwards;
        }

        .card:nth-child(1) { animation-delay: 0.05s; }
        .card:nth-child(2) { animation-delay: 0.1s; }
        .card:nth-child(3) { animation-delay: 0.15s; }
        .card:nth-child(4) { animation-delay: 0.2s; }
        .card:nth-child(5) { animation-delay: 0.25s; }
        .card:nth-child(6) { animation-delay: 0.3s; }
        .card:nth-child(7) { animation-delay: 0.35s; }
        .card:nth-child(8) { animation-delay: 0.4s; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MISC UTILITIES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        ul {
            color: var(--text-secondary);
        }

        ul li {
            margin-bottom: 0.375rem;
        }

        ul li strong {
            color: var(--text-primary);
        }

        p {
            color: var(--text-secondary);
        }

        p strong {
            color: var(--text-primary);
        }

        /* Ensure emoji visibility in both themes */
        .section-icon,
        .card-icon,
        .feature-icon,
        .tip-icon,
        .nav-icon,
        .flow-step-icon {
            filter: none;
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Manual do UsuÃ¡rio AvanÃ§ado</h1>
        <p class="subtitle">SentencifyAI v1.40.20 â€” Guia Completo de Funcionalidades</p>
        <div class="header-controls">
            <button class="theme-toggle" onclick="toggleTheme()" title="Alternar tema">â˜€ï¸</button>
        </div>
    </header>

    <div class="main-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="nav-section">
                <div class="nav-section-title">IntroduÃ§Ã£o</div>
                <div class="nav-item active" onclick="showTab('intro')">
                    <span class="nav-icon">ğŸ </span>
                    <span>VisÃ£o Geral</span>
                </div>
                <div class="nav-item" onclick="showTab('workflow')">
                    <span class="nav-icon">ğŸ”„</span>
                    <span>Fluxo de Trabalho</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Abas do Sistema</div>
                <div class="nav-item" onclick="showTab('upload')">
                    <span class="nav-icon">ğŸ“¤</span>
                    <span>Upload & AnÃ¡lise</span>
                </div>
                <div class="nav-item" onclick="showTab('topicos')">
                    <span class="nav-icon">ğŸ“‹</span>
                    <span>TÃ³picos</span>
                </div>
                <div class="nav-item" onclick="showTab('provas')">
                    <span class="nav-icon">âš–ï¸</span>
                    <span>Provas</span>
                </div>
                <div class="nav-item" onclick="showTab('editor')">
                    <span class="nav-icon">âœï¸</span>
                    <span>Editor</span>
                </div>
                <div class="nav-item" onclick="showTab('juris')">
                    <span class="nav-icon">ğŸ“–</span>
                    <span>JurisprudÃªncia</span>
                </div>
                <div class="nav-item" onclick="showTab('legis')">
                    <span class="nav-icon">ğŸ“œ</span>
                    <span>LegislaÃ§Ã£o</span>
                </div>
                <div class="nav-item" onclick="showTab('modelos')">
                    <span class="nav-icon">ğŸ“¦</span>
                    <span>Modelos</span>
                </div>
                <div class="nav-item" onclick="showTab('prova-oral')">
                    <span class="nav-icon">ğŸ¤</span>
                    <span>Prova Oral</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">ConfiguraÃ§Ãµes</div>
                <div class="nav-item" onclick="showTab('config')">
                    <span class="nav-icon">âš™ï¸</span>
                    <span>ConfiguraÃ§Ãµes IA</span>
                </div>
                <div class="nav-item" onclick="showTab('atalhos')">
                    <span class="nav-icon">âŒ¨ï¸</span>
                    <span>Atalhos de Teclado</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">AvanÃ§ado</div>
                <div class="nav-item" onclick="showTab('ia-local')">
                    <span class="nav-icon">ğŸ§ </span>
                    <span>IA Local (Offline)</span>
                </div>
                <div class="nav-item" onclick="showTab('dicas')">
                    <span class="nav-icon">ğŸ’¡</span>
                    <span>Dicas e Boas PrÃ¡ticas</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content">

            <!-- Intro Tab -->
            <div id="intro" class="tab-content active">
                <div class="section-header">
                    <span class="section-icon">ğŸ </span>
                    <div>
                        <h2 class="section-title">Bem-vindo ao SentencifyAI</h2>
                        <p class="section-subtitle">Sistema de auxÃ­lio Ã  redaÃ§Ã£o de sentenÃ§as trabalhistas para magistrados brasileiros</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ¯</span>
                        <h3 class="card-title">O que Ã© o SentencifyAI?</h3>
                    </div>
                    <p>O SentencifyAI Ã© uma ferramenta avanÃ§ada que roda 100% no navegador e auxilia juÃ­zes trabalhistas na redaÃ§Ã£o de sentenÃ§as completas. Suporta <strong>4 provedores de IA</strong> (Claude, Gemini, OpenAI, Grok) e oferece recursos como extraÃ§Ã£o automÃ¡tica de tÃ³picos, assistente de chat, ditado por voz e verificaÃ§Ã£o dupla.</p>

                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“„</span>
                            <div class="feature-text">
                                <h4>ExtraÃ§Ã£o AutomÃ¡tica</h4>
                                <p>Analisa petiÃ§Ãµes e contestaÃ§Ãµes para extrair tÃ³picos automaticamente</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ¤–</span>
                            <div class="feature-text">
                                <h4>Assistente IA</h4>
                                <p>Chat interativo para auxiliar na redaÃ§Ã£o e anÃ¡lise de provas</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“š</span>
                            <div class="feature-text">
                                <h4>Biblioteca de Modelos</h4>
                                <p>Reutilize fundamentaÃ§Ãµes genÃ©ricas com sugestÃµes inteligentes</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ”’</span>
                            <div class="feature-text">
                                <h4>AnonimizaÃ§Ã£o</h4>
                                <p>Remove dados sensÃ­veis antes de enviar Ã  IA (100% local)</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ§ </span>
                            <div class="feature-text">
                                <h4>Busca SemÃ¢ntica</h4>
                                <p>Encontre legislaÃ§Ã£o e jurisprudÃªncia por significado, nÃ£o apenas palavras</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“</span>
                            <div class="feature-text">
                                <h4>RevisÃ£o CrÃ­tica</h4>
                                <p>IA analisa omissÃµes, contradiÃ§Ãµes e obscuridades na sentenÃ§a</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸŒ</span>
                            <div class="feature-text">
                                <h4>Multi-Provider</h4>
                                <p>Escolha entre Claude, Gemini, OpenAI ou Grok para cada tarefa</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ¤</span>
                            <div class="feature-text">
                                <h4>Ditado por Voz</h4>
                                <p>Dite textos usando microfone com melhoria automÃ¡tica por IA</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">âœ…</span>
                            <div class="feature-text">
                                <h4>Double Check</h4>
                                <p>VerificaÃ§Ã£o secundÃ¡ria das respostas por outro modelo de IA</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ—‚ï¸</span>
                        <h3 class="card-title">Estrutura do Sistema (7 Abas)</h3>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Aba</th>
                                    <th>Ãcone</th>
                                    <th>FunÃ§Ã£o Principal</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Upload & AnÃ¡lise</strong></td>
                                    <td>ğŸ“¤</td>
                                    <td>Carregar documentos (PDF/texto) e extrair tÃ³picos</td>
                                </tr>
                                <tr>
                                    <td><strong>TÃ³picos</strong></td>
                                    <td>ğŸ“‹</td>
                                    <td>Gerenciar tÃ³picos extraÃ­dos (editar, mesclar, dividir, reordenar)</td>
                                </tr>
                                <tr>
                                    <td><strong>Provas</strong></td>
                                    <td>âš–ï¸</td>
                                    <td>Upload de evidÃªncias e vinculaÃ§Ã£o aos tÃ³picos</td>
                                </tr>
                                <tr>
                                    <td><strong>Editor</strong></td>
                                    <td>âœï¸</td>
                                    <td>Redigir fundamentaÃ§Ã£o com editor rico e sugestÃµes de modelos</td>
                                </tr>
                                <tr>
                                    <td><strong>JurisprudÃªncia</strong></td>
                                    <td>ğŸ“–</td>
                                    <td>Buscar sÃºmulas, OJs, IRRs e precedentes (textual ou semÃ¢ntica)</td>
                                </tr>
                                <tr>
                                    <td><strong>LegislaÃ§Ã£o</strong></td>
                                    <td>ğŸ“œ</td>
                                    <td>Buscar artigos de lei (CLT, CPC, CF/88, etc.)</td>
                                </tr>
                                <tr>
                                    <td><strong>Modelos</strong></td>
                                    <td>ğŸ“¦</td>
                                    <td>Biblioteca de templates reutilizÃ¡veis de fundamentaÃ§Ã£o</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tip-box info">
                    <span class="tip-icon">ğŸ’¡</span>
                    <div>
                        <strong>Dica:</strong> Navegue por este manual usando o menu lateral. Cada aba do sistema tem sua prÃ³pria seÃ§Ã£o detalhada com passo a passo completo.
                    </div>
                </div>
            </div>

            <!-- Workflow Tab -->
            <div id="workflow" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">ğŸ”„</span>
                    <div>
                        <h2 class="section-title">Fluxo de Trabalho Completo</h2>
                        <p class="section-subtitle">Do upload dos documentos atÃ© a sentenÃ§a final</p>
                    </div>
                </div>

                <div class="flow-diagram">
                    <div class="flow-step">
                        <span class="flow-step-icon">ğŸ“¤</span>
                        <div>1. Upload</div>
                    </div>
                    <span class="flow-arrow">â†’</span>
                    <div class="flow-step">
                        <span class="flow-step-icon">ğŸ”</span>
                        <div>2. AnÃ¡lise</div>
                    </div>
                    <span class="flow-arrow">â†’</span>
                    <div class="flow-step">
                        <span class="flow-step-icon">ğŸ“‹</span>
                        <div>3. TÃ³picos</div>
                    </div>
                    <span class="flow-arrow">â†’</span>
                    <div class="flow-step">
                        <span class="flow-step-icon">âš–ï¸</span>
                        <div>4. Provas</div>
                    </div>
                    <span class="flow-arrow">â†’</span>
                    <div class="flow-step">
                        <span class="flow-step-icon">âœï¸</span>
                        <div>5. EdiÃ§Ã£o</div>
                    </div>
                    <span class="flow-arrow">â†’</span>
                    <div class="flow-step">
                        <span class="flow-step-icon">ğŸ“</span>
                        <div>6. Dispositivo</div>
                    </div>
                    <span class="flow-arrow">â†’</span>
                    <div class="flow-step">
                        <span class="flow-step-icon">âœ…</span>
                        <div>7. RevisÃ£o</div>
                    </div>
                </div>

                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Upload de Documentos</h4>
                            <p>Carregue a <strong>PetiÃ§Ã£o Inicial</strong> (obrigatÃ³ria) e a <strong>ContestaÃ§Ã£o</strong> (recomendada). Pode adicionar documentos complementares opcionalmente. Escolha o modo de processamento: PDF.js (gratuito) ou Claude Vision (OCR avanÃ§ado).</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>ExtraÃ§Ã£o de TÃ³picos</h4>
                            <p>Clique em <strong>"Analisar Documentos"</strong>. A IA extrai automaticamente os tÃ³picos (pedidos) identificados nas peÃ§as, organizados por categoria: Preliminar, Prejudicial, MÃ©rito e Processual.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Refinamento dos TÃ³picos</h4>
                            <p>Na aba <strong>TÃ³picos</strong>, revise a lista. VocÃª pode: renomear, dividir tÃ³picos muito amplos, mesclar tÃ³picos relacionados, reordenar arrastando e alterar categorias.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Upload e VinculaÃ§Ã£o de Provas</h4>
                            <p>Na aba <strong>Provas</strong>, carregue evidÃªncias (PDFs ou texto). Vincule cada prova aos tÃ³picos relacionados. Use <strong>"Analisar com IA"</strong> para obter anÃ¡lise contextual ou livre.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h4>RedaÃ§Ã£o da FundamentaÃ§Ã£o</h4>
                            <p>Na aba <strong>Editor</strong>, clique em cada tÃ³pico para redigir. Use o painel lateral com <strong>sugestÃµes de modelos</strong>, consulte jurisprudÃªncia/legislaÃ§Ã£o e use o <strong>Assistente IA</strong> para tirar dÃºvidas. Selecione o resultado (Procedente/Improcedente/Parcial).</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <h4>GeraÃ§Ã£o do Dispositivo</h4>
                            <p>Com todos os tÃ³picos decididos, clique em <strong>"Gerar Dispositivo"</strong>. A IA cria o dispositivo estruturado baseado nos resultados selecionados (verbos em negrito, itens numerados).</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">7</div>
                        <div class="step-content">
                            <h4>RevisÃ£o CrÃ­tica</h4>
                            <p>Clique em <strong>"Revisar SentenÃ§a"</strong>. A IA atua como "advogado do diabo", buscando omissÃµes, contradiÃ§Ãµes e obscuridades que poderiam gerar embargos de declaraÃ§Ã£o. Com <strong>Double Check</strong> ativado, um segundo modelo verifica as correÃ§Ãµes sugeridas. Corrija e exporte a minuta final.</p>
                        </div>
                    </div>
                </div>

                <div class="tip-box success">
                    <span class="tip-icon">âœ…</span>
                    <div>
                        <strong>Pronto!</strong> Com a revisÃ£o concluÃ­da, exporte a sentenÃ§a em Word/PDF, salve em JSON local, ou use o <strong>Google Drive</strong> para backup na nuvem.
                    </div>
                </div>

                <!-- NOVO: Import/Export Projeto -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ’¾</span>
                        <h3 class="card-title">Importar / Exportar Projeto</h3>
                    </div>
                    <p>Salve e restaure seu trabalho completo a qualquer momento:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>OperaÃ§Ã£o</th>
                                    <th>O que Inclui</th>
                                    <th>LocalizaÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Exportar Projeto</strong> ğŸ“¤</td>
                                    <td>TÃ³picos, Provas, RelatÃ³rio, Dispositivo, Resultados, VÃ­nculos, AnÃ¡lises, Chat</td>
                                    <td>Dropdown "Projeto" no header</td>
                                </tr>
                                <tr>
                                    <td><strong>Importar Projeto</strong> ğŸ“¥</td>
                                    <td>Restaura estado completo do projeto de um JSON exportado</td>
                                    <td>Dropdown "Projeto" no header</td>
                                </tr>
                                <tr>
                                    <td><strong>Exportar Minuta</strong> ğŸ“„</td>
                                    <td>RelatÃ³rio + FundamentaÃ§Ã£o + Dispositivo formatados (Word/HTML)</td>
                                    <td>BotÃ£o "Exportar Minuta" na aba TÃ³picos</td>
                                </tr>
                                <tr>
                                    <td><strong>Salvar no Drive</strong> â˜ï¸</td>
                                    <td>Projeto completo no Google Drive (requer login)</td>
                                    <td>BotÃ£o Google Drive no header (apÃ³s conectar)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tip-box warning">
                        <span class="tip-icon">âš ï¸</span>
                        <div><strong>Importante:</strong> O JSON de projeto NÃƒO inclui os PDFs originais (apenas texto extraÃ­do). Mantenha os arquivos originais arquivados.</div>
                    </div>
                </div>
            </div>

            <!-- Upload Tab -->
            <div id="upload" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">ğŸ“¤</span>
                    <div>
                        <h2 class="section-title">Upload & AnÃ¡lise</h2>
                        <p class="section-subtitle">Carregamento de documentos e extraÃ§Ã£o de tÃ³picos</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“„</span>
                        <h3 class="card-title">Documentos Suportados</h3>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Documento</th>
                                    <th>ObrigatÃ³rio?</th>
                                    <th>Formatos</th>
                                    <th>Uso</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>PetiÃ§Ã£o Inicial</strong></td>
                                    <td><span class="badge badge-red">Sim</span></td>
                                    <td>PDF (atÃ© 10MB) ou texto colado</td>
                                    <td>Base para extraÃ§Ã£o de tÃ³picos</td>
                                </tr>
                                <tr>
                                    <td><strong>ContestaÃ§Ã£o</strong></td>
                                    <td><span class="badge badge-amber">Recomendado</span></td>
                                    <td>PDF (atÃ© 10MB) ou texto colado</td>
                                    <td>Argumentos da defesa nos mini-relatÃ³rios</td>
                                </tr>
                                <tr>
                                    <td><strong>Complementares</strong></td>
                                    <td><span class="badge badge-green">Opcional</span></td>
                                    <td>MÃºltiplos PDFs ou textos</td>
                                    <td>Consulta pelo Assistente IA (nÃ£o usado nos relatÃ³rios automÃ¡ticos)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âš™ï¸</span>
                        <h3 class="card-title">Modos de Processamento de PDF</h3>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“ PDF.js (Recomendado)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p><strong>Como funciona:</strong> Extrai texto localmente no navegador</p>
                                <div class="quick-ref">
                                    <div class="quick-ref-item">âœ… Gratuito (sem custo de API)</div>
                                    <div class="quick-ref-item">âœ… RÃ¡pido (instantÃ¢neo)</div>
                                    <div class="quick-ref-item">âœ… Permite anonimizaÃ§Ã£o</div>
                                    <div class="quick-ref-item">âŒ NÃ£o funciona com PDFs escaneados</div>
                                </div>
                                <p><strong>Ideal para:</strong> PDFs nativos (gerados de Word, sistemas, etc.)</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ‘ï¸ Claude Vision (OCR AvanÃ§ado)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p><strong>Como funciona:</strong> Envia pÃ¡ginas como imagem para Claude analisar</p>
                                <div class="quick-ref">
                                    <div class="quick-ref-item">âœ… Funciona com qualquer PDF</div>
                                    <div class="quick-ref-item">âœ… LÃª PDFs escaneados</div>
                                    <div class="quick-ref-item">ğŸ’° ~$0.04 USD / 10 pÃ¡ginas</div>
                                    <div class="quick-ref-item">â±ï¸ ~3-8s por pÃ¡gina</div>
                                </div>
                                <p><strong>Ideal para:</strong> PDFs escaneados, documentos com imagens</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“„ PDF Puro (BinÃ¡rio)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p><strong>Como funciona:</strong> Envia o PDF completo sem extraÃ§Ã£o prÃ©via</p>
                                <div class="quick-ref">
                                    <div class="quick-ref-item">âœ… Preserva 100% do documento</div>
                                    <div class="quick-ref-item">ğŸ’° Usa mais tokens</div>
                                    <div class="quick-ref-item">âŒ NÃ£o permite anonimizaÃ§Ã£o</div>
                                </div>
                                <p><strong>Ideal para:</strong> Documentos com formataÃ§Ã£o complexa que precisa ser preservada</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">â–¶ï¸</span>
                        <h3 class="card-title">Como Analisar Documentos</h3>
                    </div>
                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>FaÃ§a upload da PetiÃ§Ã£o Inicial</h4>
                                <p>Arraste o PDF para a Ã¡rea de upload ou clique para selecionar. Alternativamente, cole o texto diretamente.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Adicione a ContestaÃ§Ã£o (recomendado)</h4>
                                <p>O sistema gera mini-relatÃ³rios melhores quando tem acesso aos argumentos da defesa.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Escolha o modo de processamento</h4>
                                <p>Use PDF.js para PDFs nativos (gratuito e rÃ¡pido). Use Claude Vision para escaneados.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h4>Clique em "Analisar Documentos"</h4>
                                <p>A IA extrai os tÃ³picos automaticamente. Se anonimizaÃ§Ã£o estiver ativa, confirme os nomes antes.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tip-box warning">
                    <span class="tip-icon">âš ï¸</span>
                    <div>
                        <strong>AnonimizaÃ§Ã£o:</strong> Se ativada, sÃ³ funciona com PDF.js. O sistema pedirÃ¡ para confirmar os nomes antes de enviar Ã  IA. Use "Detectar Nomes" para detecÃ§Ã£o automÃ¡tica (requer modelo NER).
                    </div>
                </div>
            </div>

            <!-- Topicos Tab -->
            <div id="topicos" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">ğŸ“‹</span>
                    <div>
                        <h2 class="section-title">TÃ³picos</h2>
                        <p class="section-subtitle">Gerenciamento dos pedidos extraÃ­dos</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ·ï¸</span>
                        <h3 class="card-title">O que Ã© um TÃ³pico?</h3>
                    </div>
                    <p>Cada <strong>tÃ³pico</strong> representa um pedido ou questÃ£o a ser decidida na sentenÃ§a. O sistema extrai automaticamente:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li><strong>TÃ­tulo</strong> â€” Nome do pedido (ex: "HORAS EXTRAS")</li>
                        <li><strong>Categoria</strong> â€” Preliminar, Prejudicial, MÃ©rito ou Processual</li>
                        <li><strong>Mini-relatÃ³rio</strong> â€” Resumo automÃ¡tico das alegaÃ§Ãµes das partes</li>
                        <li><strong>FundamentaÃ§Ã£o</strong> â€” Sua decisÃ£o (vocÃª redige)</li>
                        <li><strong>Resultado</strong> â€” Procedente, Improcedente ou Parcialmente Procedente</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ› ï¸</span>
                        <h3 class="card-title">AÃ§Ãµes em Cada TÃ³pico</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">âœï¸</span>
                            <div class="feature-text">
                                <h4>Editar</h4>
                                <p>Abre o editor para redigir fundamentaÃ§Ã£o e mini-relatÃ³rio</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“</span>
                            <div class="feature-text">
                                <h4>Renomear</h4>
                                <p>Alterar tÃ­tulo (com ou sem regenerar mini-relatÃ³rio)</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">âœ‚ï¸</span>
                            <div class="feature-text">
                                <h4>Separar (Dividir)</h4>
                                <p>Dividir tÃ³pico amplo em mÃºltiplos subtÃ³picos</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ”—</span>
                            <div class="feature-text">
                                <h4>Unir (Mesclar)</h4>
                                <p>Combinar 2+ tÃ³picos em um Ãºnico (selecione primeiro)</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">â†•ï¸</span>
                            <div class="feature-text">
                                <h4>Reordenar</h4>
                                <p>Arraste o card ou use setas/nÃºmeros para mudar ordem</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ—‘ï¸</span>
                            <div class="feature-text">
                                <h4>Excluir</h4>
                                <p>Remover tÃ³pico da lista (com confirmaÃ§Ã£o)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âš–ï¸</span>
                        <h3 class="card-title">Resultado (DecisÃ£o)</h3>
                    </div>
                    <p>Cada tÃ³pico precisa de um <strong>resultado</strong> para gerar o dispositivo:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Resultado</th>
                                    <th>Ãcone</th>
                                    <th>Significado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Procedente</td><td>âœ…</td><td>Pedido totalmente acolhido</td></tr>
                                <tr><td>Improcedente</td><td>âŒ</td><td>Pedido totalmente rejeitado</td></tr>
                                <tr><td>Parcialmente Procedente</td><td>âš–ï¸</td><td>Pedido parcialmente acolhido</td></tr>
                                <tr><td>Acolhido</td><td>âœ…</td><td>Alternativa para "Procedente"</td></tr>
                                <tr><td>Rejeitado</td><td>âŒ</td><td>Alternativa para "Improcedente"</td></tr>
                                <tr><td>Sem Resultado</td><td>â¸ï¸</td><td>Ainda nÃ£o decidido</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ’¡</span>
                        <div>O sistema pode <strong>detectar automaticamente</strong> o resultado baseado na fundamentaÃ§Ã£o (badge "Auto" aparece). VocÃª sempre pode sobrescrever manualmente.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“</span>
                        <h3 class="card-title">TÃ³picos Especiais</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“œ</span>
                            <div class="feature-text">
                                <h4>RELATÃ“RIO</h4>
                                <p>Narrativa do histÃ³rico processual. PosiÃ§Ã£o fixa no inÃ­cio da sentenÃ§a.</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">âš¡</span>
                            <div class="feature-text">
                                <h4>DISPOSITIVO</h4>
                                <p>Parte final com os comandos da sentenÃ§a. Gerado automaticamente.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”</span>
                        <h3 class="card-title">Revisar SentenÃ§a</h3>
                    </div>
                    <p>BotÃ£o <strong>"Revisar SentenÃ§a"</strong> ativa anÃ¡lise crÃ­tica pela IA:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li><strong>OmissÃµes</strong> â€” Pedidos/argumentos nÃ£o abordados</li>
                        <li><strong>ContradiÃ§Ãµes</strong> â€” Conflitos entre fundamentaÃ§Ã£o e dispositivo</li>
                        <li><strong>Obscuridades</strong> â€” Passagens confusas ou ambÃ­guas</li>
                    </ul>
                    <p>Resultado inclui nota (A/B/C/D) e recomendaÃ§Ãµes especÃ­ficas para correÃ§Ã£o.</p>
                </div>

                <!-- NOVO: Exportar Minuta -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“„</span>
                        <h3 class="card-title">Exportar Minuta</h3>
                    </div>
                    <p>BotÃ£o <strong>"Exportar Minuta"</strong> gera documento formatado com toda a sentenÃ§a:</p>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“‹</span>
                            <div class="feature-text">
                                <h4>Estrutura</h4>
                                <p>RELATÃ“RIO â†’ FUNDAMENTAÃ‡ÃƒO (todos os tÃ³picos) â†’ DISPOSITIVO</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“</span>
                            <div class="feature-text">
                                <h4>Formato</h4>
                                <p>HTML formatado, compatÃ­vel para colar no Word ou sistema judicial</p>
                            </div>
                        </div>
                    </div>
                    <div class="tip-box info" style="margin-top: 1rem;">
                        <span class="tip-icon">ğŸ’¡</span>
                        <div><strong>Dica:</strong> Antes de exportar, confirme que todos os tÃ³picos tÃªm <strong>resultado definido</strong> e que o <strong>dispositivo foi gerado</strong>.</div>
                    </div>
                </div>
            </div>

            <!-- Provas Tab -->
            <div id="provas" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">âš–ï¸</span>
                    <div>
                        <h2 class="section-title">Provas</h2>
                        <p class="section-subtitle">Gerenciamento de evidÃªncias e anÃ¡lise com IA</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“¤</span>
                        <h3 class="card-title">Upload de Provas</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“„</span>
                            <div class="feature-text">
                                <h4>Upload de PDFs</h4>
                                <p>Arraste ou clique para enviar mÃºltiplos PDFs de prova</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“</span>
                            <div class="feature-text">
                                <h4>Colar Texto</h4>
                                <p>Adicione transcriÃ§Ãµes, depoimentos ou documentos em texto</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”—</span>
                        <h3 class="card-title">VinculaÃ§Ã£o de Provas a TÃ³picos</h3>
                    </div>
                    <p>Vincular provas aos tÃ³picos permite:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>AnÃ¡lise contextual mais precisa pela IA</li>
                        <li>VisualizaÃ§Ã£o das provas vinculadas no painel do Editor</li>
                        <li>ReferÃªncia rÃ¡pida durante a redaÃ§Ã£o da fundamentaÃ§Ã£o</li>
                    </ul>
                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Clique em "Vincular a TÃ³picos"</h4>
                                <p>No card da prova, abra o modal de vinculaÃ§Ã£o</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Selecione os tÃ³picos relacionados</h4>
                                <p>Uma prova pode estar vinculada a mÃºltiplos tÃ³picos</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- NOVO: Campo ConclusÃµes -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âœï¸</span>
                        <h3 class="card-title">ConclusÃµes do Juiz</h3>
                    </div>
                    <p>ApÃ³s analisar uma prova (com IA ou manualmente), vocÃª pode registrar suas conclusÃµes:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li><strong>Campo "Minhas ConclusÃµes"</strong> â€” Clique para editar no card da prova</li>
                        <li>Registre o que vocÃª concluiu sobre a prova (ex: "Comprova vÃ­nculo empregatÃ­cio")</li>
                        <li>Suas conclusÃµes sÃ£o <strong>enviadas ao Assistente IA</strong> junto com a anÃ¡lise</li>
                        <li>Aparecem na exportaÃ§Ã£o e ficam disponÃ­veis para referÃªncia</li>
                        <li><strong>BotÃ£o ğŸ¤ Ditado por Voz</strong> â€” Dite suas conclusÃµes usando o microfone</li>
                    </ul>
                    <div class="tip-box success">
                        <span class="tip-icon">âœ…</span>
                        <div><strong>Por que usar:</strong> A IA recebe tanto a anÃ¡lise automÃ¡tica quanto suas conclusÃµes, permitindo fundamentaÃ§Ãµes mais precisas e alinhadas com sua convicÃ§Ã£o.</div>
                    </div>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ¤</span>
                        <div><strong>Ditado por Voz:</strong> O botÃ£o de microfone permite ditar suas conclusÃµes verbalmente. Se a melhoria automÃ¡tica estiver ativada em ConfiguraÃ§Ãµes, a IA corrige pontuaÃ§Ã£o e formataÃ§Ã£o.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ¤–</span>
                        <h3 class="card-title">AnÃ¡lise de Provas com IA</h3>
                    </div>

                    <div class="collapsible open">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ’œ AnÃ¡lise Contextual</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p><strong>O que faz:</strong> Compara a prova com as alegaÃ§Ãµes da petiÃ§Ã£o e contestaÃ§Ã£o</p>
                                <p><strong>Contexto enviado:</strong> Documentos do processo + mini-relatÃ³rios dos tÃ³picos vinculados</p>
                                <p><strong>Resultado:</strong> AnÃ¡lise de como a prova impacta cada pedido (comprova, refuta ou Ã© neutra)</p>
                                <div class="tip-box info">
                                    <span class="tip-icon">ğŸ’¡</span>
                                    <div>OpÃ§Ã£o "Usar apenas mini-relatÃ³rios" economiza tokens quando vocÃª quer contexto resumido.</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ’š AnÃ¡lise Livre</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p><strong>O que faz:</strong> Envia apenas a prova + suas instruÃ§Ãµes personalizadas</p>
                                <p><strong>Contexto enviado:</strong> Nenhum (ou tÃ³picos vinculados se ativado)</p>
                                <p><strong>Ideal para:</strong> Perguntas especÃ­ficas, extraÃ§Ãµes de dados, anÃ¡lises pontuais</p>
                                <p><strong>Exemplo:</strong> "Identifique os valores mencionados nesta prova"</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tip-box warning">
                    <span class="tip-icon">âš ï¸</span>
                    <div>
                        <strong>Com AnonimizaÃ§Ã£o Ativa:</strong> PDFs devem ter texto extraÃ­do antes de analisar. Clique em "Extrair Texto" primeiro. O badge "âš ï¸ CONFLITO" indica que precisa resolver.
                    </div>
                </div>

                <div class="tip-box warning">
                    <span class="tip-icon">ğŸŒ</span>
                    <div>
                        <strong>Grok e PDFs:</strong> O Grok nÃ£o suporta anÃ¡lise de PDF binÃ¡rio. Ao usar Grok como provedor, vocÃª deve extrair o texto da prova primeiro. O botÃ£o "Usar PDF" fica desabilitado e um badge laranja "Grok nÃ£o suporta PDF" aparece no card.
                    </div>
                </div>

                <!-- NOVO: Provas no Assistente IA -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ’¬</span>
                        <h3 class="card-title">Provas no Assistente IA (Chat)</h3>
                    </div>
                    <p>Quando vocÃª usa o Assistente IA no editor, as provas vinculadas ao tÃ³pico sÃ£o enviadas automaticamente. VocÃª controla <strong>o que Ã© enviado</strong>:</p>

                    <div class="collapsible open">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“Š Modo PadrÃ£o (Toggle desligado)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p>Por padrÃ£o, o Assistente IA recebe apenas:</p>
                                <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                                    <li><strong>Nome da prova</strong></li>
                                    <li><strong>Resultado da anÃ¡lise</strong> (contextual ou livre, se houver)</li>
                                    <li><strong>ConclusÃµes do juiz</strong> (se preenchidas)</li>
                                </ul>
                                <div class="tip-box info">
                                    <span class="tip-icon">ğŸ’¡</span>
                                    <div><strong>Vantagem:</strong> Economiza tokens, pois nÃ£o envia o conteÃºdo completo da prova.</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“„ Modo ConteÃºdo Integral (Toggle ligado)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p>Ao ativar o toggle <strong>"Enviar conteÃºdo integral"</strong> no card da prova, o Assistente IA recebe:</p>
                                <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                                    <li>Tudo do modo padrÃ£o, <strong>mais</strong>:</li>
                                    <li><strong>ConteÃºdo completo da prova</strong> (texto extraÃ­do ou PDF binÃ¡rio)</li>
                                </ul>
                                <div class="tip-box warning">
                                    <span class="tip-icon">âš ï¸</span>
                                    <div><strong>AtenÃ§Ã£o:</strong> Consome significativamente mais tokens. Use quando precisar que a IA consulte detalhes especÃ­ficos da prova.</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ”— VinculaÃ§Ã£o e Escopo</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p><strong>Importante:</strong> Apenas provas <strong>vinculadas ao tÃ³pico sendo editado</strong> sÃ£o enviadas ao Assistente IA.</p>
                                <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                                    <li>Se uma prova estÃ¡ vinculada aos tÃ³picos A e B, ela serÃ¡ enviada ao editar A ou B</li>
                                    <li>Se uma prova nÃ£o estÃ¡ vinculada a nenhum tÃ³pico, ela <strong>nÃ£o Ã© enviada</strong> ao chat</li>
                                    <li>A configuraÃ§Ã£o "Enviar conteÃºdo integral" Ã© <strong>por prova</strong> (nÃ£o global)</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="table-container" style="margin-top: 1rem;">
                        <table>
                            <thead>
                                <tr>
                                    <th>Toggle</th>
                                    <th>O que Ã© enviado</th>
                                    <th>Consumo de tokens</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Desligado (padrÃ£o)</td>
                                    <td>Nome + AnÃ¡lise + ConclusÃµes</td>
                                    <td>Baixo</td>
                                </tr>
                                <tr>
                                    <td>Ligado</td>
                                    <td>Nome + AnÃ¡lise + ConclusÃµes + <strong>ConteÃºdo completo</strong></td>
                                    <td>Alto</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- NOVO: Importar AnÃ¡lise de Prova Oral -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ¤</span>
                        <h3 class="card-title">Importar AnÃ¡lise de Prova Oral</h3>
                    </div>
                    <p>Se vocÃª usou o app <strong>Analisador de Prova Oral</strong> para processar depoimentos, pode importar os resultados diretamente:</p>

                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Clique em "Importar Prova Oral"</h4>
                                <p>BotÃ£o visÃ­vel na aba Provas quando vocÃª estÃ¡ autenticado</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Selecione a anÃ¡lise</h4>
                                <p>Modal exibe lista de anÃ¡lises salvas com busca por nÃºmero do processo</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Escolha as seÃ§Ãµes</h4>
                                <p>Selecione quais partes importar: SÃ­nteses, ContradiÃ§Ãµes, ConfissÃµes, Credibilidade</p>
                            </div>
                        </div>
                    </div>

                    <p style="margin-top: 1rem;"><strong>O que Ã© importado:</strong></p>
                    <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                        <li>TranscriÃ§Ã£o vira uma nova <strong>Prova</strong> (tipo texto)</li>
                        <li>SeÃ§Ãµes selecionadas viram <strong>AnÃ¡lises</strong> vinculadas Ã  prova</li>
                    </ul>

                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ’¡</span>
                        <div><strong>Requisito:</strong> VocÃª precisa estar logado e ter anÃ¡lises salvas no Analisador de Prova Oral.</div>
                    </div>
                </div>

                <!-- NOVO: EdiÃ§Ã£o Inline de AnÃ¡lises -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âœï¸</span>
                        <h3 class="card-title">Editar AnÃ¡lises de Prova</h3>
                    </div>
                    <p>ApÃ³s analisar uma prova, vocÃª pode editar o resultado:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Passe o mouse sobre a anÃ¡lise para ver o botÃ£o <strong>âœï¸ Editar</strong></li>
                        <li>Clique para abrir textarea editÃ¡vel</li>
                        <li>FaÃ§a ajustes e clique em <strong>Salvar</strong> (ou Cancelar para descartar)</li>
                        <li>AlteraÃ§Ãµes sÃ£o salvas automaticamente e persistem</li>
                    </ul>
                </div>
            </div>

            <!-- Editor Tab -->
            <div id="editor" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">âœï¸</span>
                    <div>
                        <h2 class="section-title">Editor</h2>
                        <p class="section-subtitle">RedaÃ§Ã£o da fundamentaÃ§Ã£o com sugestÃµes inteligentes</p>
                    </div>
                </div>

                <!-- NOVO: Tipos de Editor -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”€</span>
                        <h3 class="card-title">Tipos de Editor</h3>
                    </div>
                    <p>O sistema oferece <strong>dois modos de ediÃ§Ã£o</strong> com caracterÃ­sticas distintas:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Editor</th>
                                    <th>Acesso</th>
                                    <th>CaracterÃ­sticas</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Editor Individual</strong></td>
                                    <td>BotÃ£o "Editar" no card do tÃ³pico</td>
                                    <td>Edita <strong>um tÃ³pico por vez</strong>. Tem modo Fullscreen (<kbd>Ctrl+F</kbd>). Painel lateral de sugestÃµes. Split mode com modelos.</td>
                                </tr>
                                <tr>
                                    <td><strong>Editor Global</strong></td>
                                    <td>BotÃ£o "EdiÃ§Ã£o Global" na aba TÃ³picos</td>
                                    <td>Edita <strong>mÃºltiplos tÃ³picos</strong> selecionados simultaneamente. Exibe todos em sequÃªncia. Ideal para revisÃ£o e consistÃªncia.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ’¡</span>
                        <div><strong>Quando usar:</strong> Use o <em>Individual</em> para trabalho focado em um tÃ³pico. Use o <em>Global</em> para revisar/ajustar vÃ¡rios tÃ³picos de uma vez.</div>
                    </div>
                </div>

                <!-- NOVO: BotÃµes da Toolbar -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ› ï¸</span>
                        <h3 class="card-title">BotÃµes da Toolbar</h3>
                    </div>
                    <p>BotÃµes disponÃ­veis no topo do editor:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>BotÃ£o</th>
                                    <th>Ãcone</th>
                                    <th>FunÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>JurisprudÃªncia</strong></td>
                                    <td>ğŸ“–</td>
                                    <td>Abre modal de busca de precedentes (TST, STF, OJs, SÃºmulas, IRRs)</td>
                                </tr>
                                <tr>
                                    <td><strong>Extrair Modelo</strong></td>
                                    <td>ğŸ¤–</td>
                                    <td>IA <strong>generaliza</strong> a fundamentaÃ§Ã£o e cria modelo reutilizÃ¡vel (remove nomes, valores, datas)</td>
                                </tr>
                                <tr>
                                    <td><strong>Salvar como Modelo</strong></td>
                                    <td>ğŸ’¾</td>
                                    <td>Salva a fundamentaÃ§Ã£o <strong>como estÃ¡</strong> na biblioteca de modelos (sem generalizaÃ§Ã£o)</td>
                                </tr>
                                <tr>
                                    <td><strong>Assistente IA</strong></td>
                                    <td>ğŸ’¬</td>
                                    <td>Abre chat interativo para tirar dÃºvidas, gerar textos, analisar provas</td>
                                </tr>
                                <tr>
                                    <td><strong>Regenerar RelatÃ³rio</strong></td>
                                    <td>ğŸ”„</td>
                                    <td>Regenera o mini-relatÃ³rio do tÃ³pico com IA (Ãºtil apÃ³s renomear/ajustar)</td>
                                </tr>
                                <tr>
                                    <td><strong>Ditado por Voz</strong></td>
                                    <td>ğŸ¤</td>
                                    <td>Dita texto por voz usando o microfone (com melhoria automÃ¡tica por IA)</td>
                                </tr>
                                <tr>
                                    <td><strong>Confronto de Fatos</strong></td>
                                    <td>âš”ï¸</td>
                                    <td>Abre modal para comparar alegaÃ§Ãµes da PetiÃ§Ã£o vs ContestaÃ§Ã£o</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- NOVO: Ditado por Voz -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ¤</span>
                        <h3 class="card-title">Ditado por Voz</h3>
                    </div>
                    <p>Clique no botÃ£o <strong>ğŸ¤</strong> na toolbar do editor para ditar texto usando seu microfone.</p>

                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Clique no microfone</h4>
                                <p>O botÃ£o fica vermelho indicando que estÃ¡ gravando</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Fale normalmente</h4>
                                <p>O texto Ã© transcrito automaticamente pelo navegador</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Clique novamente para parar</h4>
                                <p>O texto Ã© inserido no editor (com melhoria automÃ¡tica se ativada)</p>
                            </div>
                        </div>
                    </div>

                    <div class="tip-box info">
                        <span class="tip-icon">âœ¨</span>
                        <div><strong>Melhoria AutomÃ¡tica:</strong> Se ativada em ConfiguraÃ§Ãµes, a IA corrige pontuaÃ§Ã£o, formataÃ§Ã£o e palavras mal reconhecidas automaticamente.</div>
                    </div>
                </div>

                <!-- NOVO: Confronto de Fatos -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âš”ï¸</span>
                        <h3 class="card-title">Confronto de Fatos</h3>
                    </div>
                    <p>O botÃ£o <strong>"Confronto de Fatos"</strong> abre um modal para <strong>comparar alegaÃ§Ãµes</strong> da PetiÃ§Ã£o Inicial com a ContestaÃ§Ã£o e eventuais ImpugnaÃ§Ãµes.</p>

                    <p style="margin-top: 1rem;"><strong>O que a IA analisa:</strong></p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>AlegaÃ§Ãµes do reclamante na PetiÃ§Ã£o</li>
                        <li>Defesa da reclamada na ContestaÃ§Ã£o</li>
                        <li>ImpugnaÃ§Ãµes de ambas as partes</li>
                        <li>Classifica cada fato como <strong>controverso</strong> ou <strong>incontroverso</strong></li>
                    </ul>

                    <p style="margin-top: 1rem;"><strong>Resultado:</strong></p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Coluna</th>
                                    <th>DescriÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>Tema</strong></td><td>Assunto/fato em discussÃ£o</td></tr>
                                <tr><td><strong>PetiÃ§Ã£o</strong></td><td>O que o reclamante alegou</td></tr>
                                <tr><td><strong>ContestaÃ§Ã£o</strong></td><td>O que a reclamada respondeu</td></tr>
                                <tr><td><strong>Status</strong></td><td><span class="badge badge-red">Controverso</span> ou <span class="badge badge-green">Incontroverso</span></td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="tip-box success">
                        <span class="tip-icon">ğŸ’¾</span>
                        <div><strong>Cache:</strong> O resultado Ã© salvo automaticamente. Se reabrir o modal para o mesmo tÃ³pico, recupera do cache (badge "cache" aparece).</div>
                    </div>
                </div>

                <!-- NOVO: FormataÃ§Ã£o AvanÃ§ada -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ¨</span>
                        <h3 class="card-title">FormataÃ§Ã£o AvanÃ§ada</h3>
                    </div>
                    <p>Controles de visualizaÃ§Ã£o na barra superior do editor:</p>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">Aa</span>
                            <div class="feature-text">
                                <h4>Tamanho de Fonte</h4>
                                <p>Dropdown com opÃ§Ãµes de tamanho (pequeno, normal, grande, etc.)</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">â†•ï¸</span>
                            <div class="feature-text">
                                <h4>EspaÃ§amento</h4>
                                <p>Controle de espaÃ§amento entre parÃ¡grafos (line-height)</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸŒ“</span>
                            <div class="feature-text">
                                <h4>Tema do Editor</h4>
                                <p>Toggle escuro/claro (independente do tema geral)</p>
                            </div>
                        </div>
                    </div>
                    <div class="tip-box info">
                        <span class="tip-icon">â„¹ï¸</span>
                        <div>Esses controles afetam apenas a <strong>visualizaÃ§Ã£o no editor</strong>, nÃ£o o HTML final exportado.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ–Šï¸</span>
                        <h3 class="card-title">Editor de Texto Rico</h3>
                    </div>
                    <p>O editor Quill.js oferece formataÃ§Ã£o completa:</p>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon"><strong>B</strong></span>
                            <div class="feature-text">
                                <h4>FormataÃ§Ã£o BÃ¡sica</h4>
                                <p>Negrito, ItÃ¡lico, Sublinhado, Riscado</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“‹</span>
                            <div class="feature-text">
                                <h4>Listas</h4>
                                <p>Numeradas, com marcadores, indentaÃ§Ã£o</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">â‰¡</span>
                            <div class="feature-text">
                                <h4>Alinhamento</h4>
                                <p>Esquerda, Centro, Direita, Justificado</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">H1</span>
                            <div class="feature-text">
                                <h4>CabeÃ§alhos</h4>
                                <p>H1, H2, H3, H4 para hierarquia</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- EXPANDIDO: SugestÃµes de Modelos com aÃ§Ãµes -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ’¡</span>
                        <h3 class="card-title">SugestÃµes de Modelos</h3>
                    </div>
                    <p>Ao editar um tÃ³pico, o painel lateral exibe atÃ© 5 modelos relevantes. <strong>Ranking por estrelas:</strong></p>
                    <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                        <li>â­â­â­â­â­ = 1Âº mais relevante</li>
                        <li>â­â­â­â­ = 2Âº mais relevante, e assim por diante</li>
                    </ul>

                    <p style="margin-top: 1rem;"><strong>AÃ§Ãµes disponÃ­veis em cada sugestÃ£o:</strong></p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>AÃ§Ã£o</th>
                                    <th>Ãcone</th>
                                    <th>DescriÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Inserir</strong></td>
                                    <td>â•</td>
                                    <td>Insere o conteÃºdo completo do modelo no campo FundamentaÃ§Ã£o (append)</td>
                                </tr>
                                <tr>
                                    <td><strong>Visualizar</strong></td>
                                    <td>ğŸ‘ï¸</td>
                                    <td>Abre preview em modal para ver o modelo completo antes de inserir</td>
                                </tr>
                                <tr>
                                    <td><strong>Copiar</strong></td>
                                    <td>ğŸ“‹</td>
                                    <td>Copia o conteÃºdo do modelo para a Ã¡rea de transferÃªncia</td>
                                </tr>
                                <tr>
                                    <td><strong>QuickEdit</strong></td>
                                    <td>âœï¸</td>
                                    <td>Abre o modelo para ediÃ§Ã£o rÃ¡pida antes de inserir (permite ajustes)</td>
                                </tr>
                                <tr>
                                    <td><strong>Favoritar</strong></td>
                                    <td>â­</td>
                                    <td>Marca/desmarca como favorito (favoritos aparecem no topo)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ§ </span>
                        <div>Com <strong>IA Local ativa</strong>, as sugestÃµes sÃ£o calculadas por busca semÃ¢ntica (badge "ğŸ¤– IA Local"), sem custo de API e instantaneamente.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ¤–</span>
                        <h3 class="card-title">Assistente IA (Chat)</h3>
                    </div>
                    <p>BotÃ£o <strong>"Assistente IA"</strong> abre chat interativo para tirar dÃºvidas, gerar textos e analisar provas.</p>

                    <p style="margin-top: 1rem;"><strong>Recursos:</strong></p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Contexto automÃ¡tico (tÃ­tulo, relatÃ³rio, fundamentaÃ§Ã£o atual)</li>
                        <li>ConversaÃ§Ã£o multi-turno (histÃ³rico de atÃ© 20 mensagens)</li>
                        <li>BotÃ£o <strong>"Usar Mensagem"</strong> para inserir resposta no editor</li>
                        <li>Prompts rÃ¡pidos prÃ©-configurados (Avaliar, Melhorar, Verificar OmissÃµes)</li>
                        <li><strong>HistÃ³rico persistente</strong> â€” chat Ã© salvo por tÃ³pico e persiste apÃ³s F5</li>
                        <li>BotÃ£o <strong>"Limpar Chat"</strong> para resetar o histÃ³rico</li>
                    </ul>

                    <p style="margin-top: 1rem;"><strong>Controle de Escopo do Contexto:</strong></p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Escopo</th>
                                    <th>O que a IA recebe</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>Apenas TÃ³pico Atual</strong></td><td>Mini-relatÃ³rio e decisÃ£o do tÃ³pico sendo editado</td></tr>
                                <tr><td><strong>TÃ³picos Selecionados</strong></td><td>Mini-relatÃ³rios e decisÃµes dos tÃ³picos que vocÃª marcar</td></tr>
                                <tr><td><strong>Toda a DecisÃ£o</strong></td><td>RELATÃ“RIO + todos os tÃ³picos (contexto completo)</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ“„</span>
                        <div><strong>Toggle "Incluir documentos principais":</strong> Se desativado, a IA nÃ£o recebe petiÃ§Ã£o/contestaÃ§Ã£o â€” Ãºtil para economizar tokens quando vocÃª sÃ³ quer discutir o texto jÃ¡ escrito.</div>
                    </div>

                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ“</span>
                        <div><strong>Toggle "Incluir documentos complementares":</strong> Controla se PDFs/textos complementares sÃ£o enviados ao chat. Desativado por padrÃ£o. ConfiguraÃ§Ã£o Ã© <strong>persistida por tÃ³pico</strong> e sobrevive F5 e export/import.</div>
                    </div>

                    <div class="tip-box success">
                        <span class="tip-icon">ğŸ“</span>
                        <div><strong>EstagiÃ¡rio SocrÃ¡tico:</strong> A IA verifica se sua instruÃ§Ã£o contÃ©m o fundamento da decisÃ£o (ratio decidendi). Se a instruÃ§Ã£o for vaga (ex: "Indefira as horas extras"), ela pergunta qual a tese antes de redigir.</div>
                    </div>
                </div>

                <!-- NOVO: Slash Menu - InserÃ§Ã£o rÃ¡pida de modelos -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âš¡</span>
                        <h3 class="card-title">Slash Menu (Inserir Modelos)</h3>
                    </div>
                    <p>No <strong>editor de fundamentaÃ§Ã£o</strong>, digite <kbd>/</kbd> para abrir o menu de inserÃ§Ã£o rÃ¡pida de modelos:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Um menu aparece com seus modelos disponÃ­veis</li>
                        <li>Continue digitando para <strong>filtrar</strong> por tÃ­tulo/keywords</li>
                        <li>Use <kbd>â†‘</kbd> <kbd>â†“</kbd> para navegar, <kbd>Enter</kbd> para inserir</li>
                        <li>O conteÃºdo do modelo selecionado Ã© inserido no cursor</li>
                    </ul>
                    <div class="tip-box info" style="margin-top: 1rem;">
                        <span class="tip-icon">ğŸ’¡</span>
                        <div>Ideal para inserir trechos padronizados rapidamente. Funciona no campo FundamentaÃ§Ã£o tanto no editor individual quanto no global.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“œ</span>
                        <h3 class="card-title">Versionamento (HistÃ³rico)</h3>
                    </div>
                    <p>O sistema salva automaticamente <strong>atÃ© 10 versÃµes</strong> do campo FundamentaÃ§Ã£o:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>BotÃ£o <strong>ğŸ“œ (N)</strong> mostra quantidade de versÃµes</li>
                        <li>Clique para ver dropdown com timestamps</li>
                        <li>Selecione uma versÃ£o para comparar (lado a lado)</li>
                        <li>BotÃ£o <strong>"Restaurar"</strong> volta Ã quela versÃ£o (salva atual antes)</li>
                    </ul>
                    <div class="tip-box success">
                        <span class="tip-icon">âœ…</span>
                        <div>VersÃµes sÃ£o salvas automaticamente ao sair do campo (blur). Edite com confianÃ§a!</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ–¥ï¸</span>
                        <h3 class="card-title">Modos de Tela</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">â›¶</span>
                            <div class="feature-text">
                                <h4>Fullscreen</h4>
                                <p><kbd>Ctrl+F</kbd> â€” Editor ocupa 100% da tela (apenas Editor Individual)</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“š</span>
                            <div class="feature-text">
                                <h4>Split Mode</h4>
                                <p><kbd>Ctrl+M</kbd> â€” Editor + Modelos lado a lado</p>
                            </div>
                        </div>
                    </div>
                    <p style="margin-top: 1rem;">No Split Mode, arraste o divisor central para ajustar a proporÃ§Ã£o (mÃ­n 20%, mÃ¡x 80%).</p>
                </div>
            </div>

            <!-- Jurisprudencia Tab -->
            <div id="juris" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">ğŸ“–</span>
                    <div>
                        <h2 class="section-title">JurisprudÃªncia</h2>
                        <p class="section-subtitle">Busca de precedentes e teses vinculantes</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“š</span>
                        <h3 class="card-title">Tipos de Precedentes</h3>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Tipo</th>
                                    <th>DescriÃ§Ã£o</th>
                                    <th>Tribunais</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>SÃºmula</strong></td><td>Entendimento pacificado</td><td>TST, STF, STJ</td></tr>
                                <tr><td><strong>OJ</strong></td><td>OrientaÃ§Ã£o Jurisprudencial</td><td>TST (SDI-1, SDI-2, SDC)</td></tr>
                                <tr><td><strong>IRR</strong></td><td>Incidente de Recursos Repetitivos</td><td>TST</td></tr>
                                <tr><td><strong>IAC</strong></td><td>Incidente de AssunÃ§Ã£o de CompetÃªncia</td><td>TST</td></tr>
                                <tr><td><strong>IRDR</strong></td><td>Incidente de Demandas Repetitivas</td><td>STJ, STF</td></tr>
                                <tr><td><strong>Informativo</strong></td><td>Resumos de decisÃµes relevantes</td><td>TST</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”</span>
                        <h3 class="card-title">Modos de Busca</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ”¤</span>
                            <div class="feature-text">
                                <h4>Busca Textual</h4>
                                <p>Por palavras-chave, nÃºmero do tema, tÃ­tulo. Hierarquiza automaticamente TST > STF > STJ.</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ§ </span>
                            <div class="feature-text">
                                <h4>Busca SemÃ¢ntica</h4>
                                <p>Por significado. "Trabalho extraordinÃ¡rio" encontra "horas extras". Mostra % de similaridade.</p>
                            </div>
                        </div>
                    </div>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ’¡</span>
                        <div>Toggle <strong>ğŸ§ /ğŸ”¤</strong> alterna entre os modos. Busca semÃ¢ntica requer embeddings importados (ver seÃ§Ã£o IA Local).</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸšï¸</span>
                        <h3 class="card-title">Filtros DisponÃ­veis</h3>
                    </div>
                    <div class="quick-ref">
                        <div class="quick-ref-item"><span class="badge badge-purple">IRR</span></div>
                        <div class="quick-ref-item"><span class="badge badge-purple">IAC</span></div>
                        <div class="quick-ref-item"><span class="badge badge-purple">SÃºmula</span></div>
                        <div class="quick-ref-item"><span class="badge badge-purple">OJ</span></div>
                        <div class="quick-ref-item"><span class="badge badge-purple">Informativo</span></div>
                        <div class="quick-ref-item"><span class="badge badge-blue">TST</span></div>
                        <div class="quick-ref-item"><span class="badge badge-blue">STF</span></div>
                        <div class="quick-ref-item"><span class="badge badge-blue">STJ</span></div>
                    </div>
                    <p style="margin-top: 1rem;">Clique nos filtros para ativar/desativar. MÃºltiplos filtros funcionam com lÃ³gica AND.</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“‹</span>
                        <h3 class="card-title">Como Inserir na FundamentaÃ§Ã£o</h3>
                    </div>
                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Busque o precedente</h4>
                                <p>Use filtros e busca (textual ou semÃ¢ntica) para encontrar</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Clique em "Copiar"</h4>
                                <p>O botÃ£o ğŸ“‹ copia a tese completa formatada para o clipboard</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Cole no Editor</h4>
                                <p>VÃ¡ ao campo FundamentaÃ§Ã£o e cole (Ctrl+V)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Legislacao Tab -->
            <div id="legis" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">ğŸ“œ</span>
                    <div>
                        <h2 class="section-title">LegislaÃ§Ã£o</h2>
                        <p class="section-subtitle">Consulta de artigos e dispositivos legais</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“š</span>
                        <h3 class="card-title">Leis DisponÃ­veis</h3>
                    </div>
                    <div class="quick-ref">
                        <div class="quick-ref-item"><span class="badge badge-blue">CLT</span> ConsolidaÃ§Ã£o das Leis do Trabalho</div>
                        <div class="quick-ref-item"><span class="badge badge-purple">CF/88</span> ConstituiÃ§Ã£o Federal</div>
                        <div class="quick-ref-item"><span class="badge badge-green">CPC</span> CÃ³digo de Processo Civil</div>
                        <div class="quick-ref-item"><span class="badge badge-amber">CC</span> CÃ³digo Civil</div>
                        <div class="quick-ref-item"><span class="badge badge-red">CDC</span> CÃ³digo de Defesa do Consumidor</div>
                    </div>
                    <p style="margin-top: 1rem;">Leis adicionais podem ser importadas via JSON.</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”</span>
                        <h3 class="card-title">Modos de Busca</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ”¤</span>
                            <div class="feature-text">
                                <h4>Busca Textual</h4>
                                <p>Por nÃºmero do artigo ou palavras-chave. Ex: "7" encontra Art. 7Âº</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ§ </span>
                            <div class="feature-text">
                                <h4>Busca SemÃ¢ntica</h4>
                                <p>Por significado. "Limite de jornada" encontra Art. 58 CLT</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“„</span>
                        <h3 class="card-title">Estrutura dos Artigos</h3>
                    </div>
                    <p>Cada artigo Ã© exibido com estrutura completa:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li><strong>Caput</strong> â€” Texto principal do artigo</li>
                        <li><strong>ParÃ¡grafos (Â§)</strong> â€” SubdivisÃµes do caput</li>
                        <li><strong>Incisos (I, II, III...)</strong> â€” Itens enumerados</li>
                        <li><strong>AlÃ­neas (a, b, c...)</strong> â€” Sub-itens dos incisos</li>
                    </ul>
                    <div class="tip-box success">
                        <span class="tip-icon">âœ¨</span>
                        <div>Na busca semÃ¢ntica, o trecho mais similar Ã© <span class="highlight">destacado em amarelo</span> para fÃ¡cil identificaÃ§Ã£o.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âš™ï¸</span>
                        <h3 class="card-title">Threshold (Limite de Similaridade)</h3>
                    </div>
                    <p>Ajuste o threshold em <strong>ConfiguraÃ§Ãµes IA > LegislaÃ§Ã£o</strong>:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Threshold</th>
                                    <th>Resultados</th>
                                    <th>Quando usar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>20-30%</td><td>Muitos (menos precisos)</td><td>Pesquisas exploratÃ³rias</td></tr>
                                <tr><td>40-50%</td><td>Equilibrado</td><td>Uso padrÃ£o</td></tr>
                                <tr><td>60-80%</td><td>Poucos (muito precisos)</td><td>Busca especÃ­fica</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Modelos Tab -->
            <div id="modelos" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">ğŸ“¦</span>
                    <div>
                        <h2 class="section-title">Modelos</h2>
                        <p class="section-subtitle">Biblioteca de templates reutilizÃ¡veis</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“</span>
                        <h3 class="card-title">O que Ã© um Modelo?</h3>
                    </div>
                    <p>Um <strong>modelo</strong> Ã© um template de fundamentaÃ§Ã£o genÃ©rica que pode ser reutilizado em diferentes processos. Cada modelo contÃ©m:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Campo</th>
                                    <th>ObrigatÃ³rio</th>
                                    <th>DescriÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>TÃ­tulo</strong></td><td>âœ…</td><td>Nome descritivo (ex: "HORAS EXTRAS - PROCEDENTE")</td></tr>
                                <tr><td><strong>ConteÃºdo</strong></td><td>âœ…</td><td>FundamentaÃ§Ã£o jurÃ­dica genÃ©rica (HTML formatado)</td></tr>
                                <tr><td><strong>Categoria</strong></td><td>âŒ</td><td>ClassificaÃ§Ã£o temÃ¡tica (ex: "Jornada de Trabalho")</td></tr>
                                <tr><td><strong>Palavras-chave</strong></td><td>âŒ</td><td>Tags para busca (separadas por vÃ­rgula)</td></tr>
                                <tr><td><strong>Favorito</strong></td><td>âŒ</td><td>MarcaÃ§Ã£o para acesso rÃ¡pido</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">â•</span>
                        <h3 class="card-title">Formas de Criar Modelos</h3>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>âœï¸ CriaÃ§Ã£o Manual</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p>BotÃ£o <strong>"Novo Modelo"</strong> abre formulÃ¡rio para preencher manualmente.</p>
                                <p>Dica: BotÃ£o <strong>"Gerar com IA"</strong> cria tÃ­tulo e palavras-chave automaticamente baseado no conteÃºdo.</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ’¾ Salvar TÃ³pico como Modelo</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p>No Editor de tÃ³pico, clique em <strong>"Salvar como Modelo"</strong>.</p>
                                <p>A fundamentaÃ§Ã£o atual Ã© convertida em modelo reutilizÃ¡vel.</p>
                                <div class="tip-box warning" style="margin-top: 0.75rem;">
                                    <span class="tip-icon">ğŸ”</span>
                                    <div>
                                        <strong>DetecÃ§Ã£o de Duplicatas:</strong> O sistema usa TF-IDF para verificar se jÃ¡ existe modelo similar. Se encontrado, exibe comparaÃ§Ã£o lado a lado com % de similaridade, permitindo decidir entre atualizar o existente ou criar novo.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ¤– Extrair com IA (GeneralizaÃ§Ã£o)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p>BotÃ£o <strong>"Extrair Modelo com IA"</strong> no Editor.</p>
                                <p>A IA remove nomes, valores, datas especÃ­ficas e cria versÃ£o genÃ©rica automaticamente.</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“ CriaÃ§Ã£o em Lote (Bulk)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p>BotÃ£o <strong>"Criar de Arquivos"</strong> processa mÃºltiplos arquivos (PDF, DOCX, TXT).</p>
                                <p>A IA extrai modelos automaticamente de cada arquivo (atÃ© 20 por lote).</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ’¡</span>
                        <h3 class="card-title">SugestÃµes AutomÃ¡ticas</h3>
                    </div>
                    <p>Enquanto vocÃª edita um tÃ³pico, o sistema busca modelos similares automaticamente:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li><strong>TF-IDF</strong> â€” Algoritmo de relevÃ¢ncia por frequÃªncia de termos</li>
                        <li><strong>Refinamento com IA</strong> â€” Claude ordena os top 10 por pertinÃªncia real</li>
                        <li><strong>IA Local</strong> â€” Se ativa, usa embeddings (instantÃ¢neo, sem custo)</li>
                    </ul>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ§ </span>
                        <div>Ative <strong>"SugestÃµes via IA Local"</strong> nas configuraÃ§Ãµes para sugestÃµes instantÃ¢neas sem custo de API.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ’¾</span>
                        <h3 class="card-title">Importar / Exportar</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“¤</span>
                            <div class="feature-text">
                                <h4>Exportar</h4>
                                <p>Baixa JSON com todos os modelos (inclui embeddings se gerados)</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“¥</span>
                            <div class="feature-text">
                                <h4>Importar</h4>
                                <p>Carrega modelos de JSON exportado anteriormente (detecta duplicatas)</p>
                            </div>
                        </div>
                    </div>
                    <div class="tip-box warning">
                        <span class="tip-icon">âš ï¸</span>
                        <div>FaÃ§a backup regularmente! Exporte seus modelos antes de limpar dados do navegador.</div>
                    </div>
                </div>

                <!-- NOVO: SincronizaÃ§Ã£o na Nuvem -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">â˜ï¸</span>
                        <h3 class="card-title">SincronizaÃ§Ã£o na Nuvem</h3>
                    </div>
                    <p>Seus modelos podem ser sincronizados automaticamente com o servidor, permitindo acesso de qualquer dispositivo.</p>

                    <p style="margin-top: 1rem;"><strong>Como funciona:</strong></p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>FaÃ§a login com seu e-mail (link mÃ¡gico, sem senha)</li>
                        <li>Os modelos sÃ£o sincronizados automaticamente em segundo plano</li>
                        <li>Indicador de status mostra quando estÃ¡ sincronizando</li>
                        <li>Funciona entre computador, notebook e outros navegadores</li>
                    </ul>

                    <p style="margin-top: 1rem;"><strong>Google Drive:</strong></p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li><strong>Salvar projeto</strong> â€” Salva o projeto atual no seu Drive</li>
                        <li><strong>Carregar projeto</strong> â€” Lista e carrega projetos salvos</li>
                        <li><strong>Backup automÃ¡tico</strong> â€” Seus arquivos ficam no seu Drive pessoal</li>
                    </ul>

                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ”—</span>
                        <div><strong>Compartilhamento:</strong> VocÃª pode compartilhar sua biblioteca de modelos com colegas. O destinatÃ¡rio recebe um link e importa os modelos para sua conta.</div>
                    </div>
                </div>
            </div>

            <!-- Prova Oral Tab -->
            <div id="prova-oral" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">ğŸ¤</span>
                    <div>
                        <h2 class="section-title">Analisador de Prova Oral</h2>
                        <p class="section-subtitle">AnÃ¡lise inteligente de depoimentos de audiÃªncia</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ¯</span>
                        <h3 class="card-title">O que Ã© o Analisador?</h3>
                    </div>
                    <p>O <strong>Analisador de Prova Oral</strong> Ã© um app especializado que transforma transcriÃ§Ãµes de audiÃªncias em anÃ¡lises jurÃ­dicas estruturadas usando IA.</p>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“</span>
                            <div class="feature-text">
                                <h4>ExtraÃ§Ã£o de Depoimentos</h4>
                                <p>Identifica cada depoente e organiza suas declaraÃ§Ãµes com timestamps</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">âš”ï¸</span>
                            <div class="feature-text">
                                <h4>ContradiÃ§Ãµes</h4>
                                <p>Detecta contradiÃ§Ãµes internas e entre testemunhas</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">âœ‹</span>
                            <div class="feature-text">
                                <h4>ConfissÃµes</h4>
                                <p>Identifica admissÃµes do autor e do preposto (art. 391 CPC)</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">âš–ï¸</span>
                            <div class="feature-text">
                                <h4>Credibilidade</h4>
                                <p>Avalia confiabilidade de cada testemunha com critÃ©rios objetivos</p>
                            </div>
                        </div>
                    </div>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ”—</span>
                        <div><strong>Acesso:</strong> Clique em "Prova Oral" no menu superior do SentencifyAI (requer login).</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”„</span>
                        <h3 class="card-title">Fluxo de Trabalho</h3>
                    </div>
                    <div class="flow-diagram">
                        <div class="flow-step">
                            <span class="flow-step-icon">ğŸ“‹</span>
                            <div>1. TranscriÃ§Ã£o</div>
                        </div>
                        <span class="flow-arrow">â†’</span>
                        <div class="flow-step">
                            <span class="flow-step-icon">ğŸ¤–</span>
                            <div>2. AnÃ¡lise IA</div>
                        </div>
                        <span class="flow-arrow">â†’</span>
                        <div class="flow-step">
                            <span class="flow-step-icon">ğŸ“Š</span>
                            <div>3. Resultados</div>
                        </div>
                        <span class="flow-arrow">â†’</span>
                        <div class="flow-step">
                            <span class="flow-step-icon">âœï¸</span>
                            <div>4. MarcaÃ§Ãµes</div>
                        </div>
                        <span class="flow-arrow">â†’</span>
                        <div class="flow-step">
                            <span class="flow-step-icon">ğŸ“¤</span>
                            <div>5. Importar</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“¥</span>
                        <h3 class="card-title">Entrada de Dados</h3>
                    </div>
                    <p>Preencha os campos antes de iniciar a anÃ¡lise:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Campo</th>
                                    <th>ObrigatÃ³rio</th>
                                    <th>DescriÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>TranscriÃ§Ã£o da AudiÃªncia</strong></td>
                                    <td><span class="badge badge-red">Sim</span></td>
                                    <td>Cole a transcriÃ§Ã£o completa da audiÃªncia (todas as oitivas)</td>
                                </tr>
                                <tr>
                                    <td><strong>SÃ­ntese do Processo</strong></td>
                                    <td><span class="badge badge-amber">Recomendado</span></td>
                                    <td>Partes, pedidos, alegaÃ§Ãµes e defesas. Pode importar do Analisador de Prepauta</td>
                                </tr>
                                <tr>
                                    <td><strong>InstruÃ§Ãµes Extras</strong></td>
                                    <td><span class="badge badge-green">Opcional</span></td>
                                    <td>Ex: "Foque em horas extras e intervalos", "Verifique contradiÃ§Ãµes sobre acidente"</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âš™ï¸</span>
                        <h3 class="card-title">Processamento em 3 Fases</h3>
                    </div>
                    <p>Ao clicar em <strong>"Analisar Prova Oral"</strong>, a IA executa:</p>
                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Fase 1: TranscriÃ§Ã£o Exaustiva</h4>
                                <p>Extrai cada depoente, qualificaÃ§Ã£o e todas as declaraÃ§Ãµes com timestamps</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Fase 2: ClassificaÃ§Ã£o JurÃ­dica</h4>
                                <p>Agrupa por tema, identifica contradiÃ§Ãµes, confissÃµes e avalia credibilidade</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Fase 3: AnÃ¡lise ProbatÃ³ria</h4>
                                <p>Produz anÃ¡lise jurÃ­dica detalhada para cada pedido/tema</p>
                            </div>
                        </div>
                    </div>
                    <div class="tip-box info">
                        <span class="tip-icon">â±ï¸</span>
                        <div>O modal de progresso mostra status em tempo real de cada fase, com contagem de caracteres e tempo decorrido.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“Š</span>
                        <h3 class="card-title">Abas de Resultados (7 VisualizaÃ§Ãµes)</h3>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Aba</th>
                                    <th>ConteÃºdo</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Depoentes</strong></td>
                                    <td>Lista de testemunhas com qualificaÃ§Ã£o (Autor, Preposto, Testemunha-autor, Testemunha-rÃ©)</td>
                                </tr>
                                <tr>
                                    <td><strong>SÃ­nteses</strong></td>
                                    <td>DeclaraÃ§Ãµes organizadas em 3 modos: <em>Detalhada</em> (cards), <em>Por Depoente</em> (texto corrido), <em>Por Tema</em> (agrupado por pedido)</td>
                                </tr>
                                <tr>
                                    <td><strong>ContradiÃ§Ãµes</strong></td>
                                    <td>ContradiÃ§Ãµes internas e externas, com nÃ­vel de relevÃ¢ncia e anÃ¡lise de impacto</td>
                                </tr>
                                <tr>
                                    <td><strong>ConfissÃµes</strong></td>
                                    <td>AdmissÃµes identificadas (autor ou preposto), com trecho, tema e severidade</td>
                                </tr>
                                <tr>
                                    <td><strong>Credibilidade</strong></td>
                                    <td>AvaliaÃ§Ã£o de cada testemunha: conhecimento direto, contemporaneidade, coerÃªncia, interesse na lide</td>
                                </tr>
                                <tr>
                                    <td><strong>AnÃ¡lises</strong></td>
                                    <td>AnÃ¡lise jurÃ­dica completa por tema: alegaÃ§Ãµes, defesas, depoimentos, fundamentaÃ§Ã£o, conclusÃ£o</td>
                                </tr>
                                <tr>
                                    <td><strong>Comparativo</strong></td>
                                    <td>Tabela resumo de todos os temas com conclusÃ£o (FavorÃ¡vel-autor/rÃ©, Parcial, Inconclusivo)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ–ï¸</span>
                        <h3 class="card-title">MarcaÃ§Ãµes e Destaques</h3>
                    </div>
                    <p>Na aba <strong>SÃ­nteses</strong>, vocÃª pode marcar trechos importantes:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Selecione qualquer texto â†’ escolha uma cor (amarelo, verde, azul, roxo, vermelho)</li>
                        <li>Adicione comentÃ¡rio opcional ao destaque</li>
                        <li>MarcaÃ§Ãµes sÃ£o <strong>salvas automaticamente</strong> no servidor</li>
                        <li>Indicador visual mostra "Salvando..." â†’ "Salvo"</li>
                    </ul>
                    <div class="tip-box success">
                        <span class="tip-icon">ğŸ’¾</span>
                        <div>Suas marcaÃ§Ãµes persistem e sÃ£o recuperadas ao reabrir a anÃ¡lise do histÃ³rico.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“œ</span>
                        <h3 class="card-title">HistÃ³rico de AnÃ¡lises</h3>
                    </div>
                    <p>Todas as anÃ¡lises sÃ£o salvas automaticamente. Acesse pelo botÃ£o <strong>ğŸ“œ HistÃ³rico</strong>:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Busque por nÃºmero do processo, autor ou rÃ©u</li>
                        <li>Veja estatÃ­sticas de cada anÃ¡lise (depoentes, temas, contradiÃ§Ãµes, confissÃµes)</li>
                        <li>Carregue anÃ¡lises anteriores para continuar trabalhando</li>
                        <li>Exclua anÃ¡lises prÃ³prias (anÃ¡lises compartilhadas por outros nÃ£o podem ser excluÃ­das)</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ‘¥</span>
                        <h3 class="card-title">Compartilhamento</h3>
                    </div>
                    <p>Compartilhe anÃ¡lises com colegas via <strong>ConfiguraÃ§Ãµes > Compartilhamento</strong>:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Adicione e-mails de usuÃ¡rios que podem ver suas anÃ¡lises</li>
                        <li>AnÃ¡lises compartilhadas exibem badge roxo "Compartilhada por [email]"</li>
                        <li>DestinatÃ¡rios podem visualizar, mas nÃ£o editar ou excluir</li>
                        <li>Revogue acesso a qualquer momento</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“¤</span>
                        <h3 class="card-title">Importar no SentencifyAI</h3>
                    </div>
                    <p>ApÃ³s analisar, importe os resultados na aba <strong>Provas</strong> do SentencifyAI:</p>
                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Na aba Provas, clique "Importar Prova Oral"</h4>
                                <p>BotÃ£o visÃ­vel quando vocÃª estÃ¡ autenticado</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Selecione a anÃ¡lise e as seÃ§Ãµes</h4>
                                <p>Escolha quais partes importar: SÃ­nteses, ContradiÃ§Ãµes, ConfissÃµes, Credibilidade</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>A transcriÃ§Ã£o vira Prova, seÃ§Ãµes viram AnÃ¡lises</h4>
                                <p>Pronto para vincular a tÃ³picos e usar no Assistente IA</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tip-box warning">
                    <span class="tip-icon">âš™ï¸</span>
                    <div><strong>ConfiguraÃ§Ãµes:</strong> O Analisador usa as mesmas configuraÃ§Ãµes de provedor de IA do SentencifyAI (Claude, Gemini, OpenAI ou Grok). Acesse via botÃ£o âš™ï¸ no header.</div>
                </div>
            </div>

            <!-- Config Tab -->
            <div id="config" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">âš™ï¸</span>
                    <div>
                        <h2 class="section-title">ConfiguraÃ§Ãµes IA</h2>
                        <p class="section-subtitle">PersonalizaÃ§Ã£o do comportamento do sistema</p>
                    </div>
                </div>

                <!-- NOVO: Provedores de IA -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸŒ</span>
                        <h3 class="card-title">Provedores de IA</h3>
                    </div>
                    <p>O SentencifyAI suporta <strong>4 provedores</strong> de IA. Cada um tem caracterÃ­sticas e preÃ§os diferentes:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Provider</th>
                                    <th>Modelo Principal</th>
                                    <th>Reasoning</th>
                                    <th>PDF BinÃ¡rio</th>
                                    <th>PreÃ§o Relativo</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Claude</strong> (Anthropic)</td>
                                    <td>Sonnet 4</td>
                                    <td><span class="badge badge-green">âœ“ Extended Thinking</span></td>
                                    <td><span class="badge badge-green">âœ“ Suporta</span></td>
                                    <td>Base (1x)</td>
                                </tr>
                                <tr>
                                    <td><strong>Gemini</strong> (Google)</td>
                                    <td>3 Flash / 3 Pro</td>
                                    <td><span class="badge badge-green">âœ“ Thinking</span></td>
                                    <td><span class="badge badge-green">âœ“ Suporta</span></td>
                                    <td>~50% mais barato</td>
                                </tr>
                                <tr>
                                    <td><strong>OpenAI</strong></td>
                                    <td>GPT-5.2</td>
                                    <td><span class="badge badge-green">âœ“ Reasoning</span></td>
                                    <td><span class="badge badge-green">âœ“ Suporta</span></td>
                                    <td>Similar ao Claude</td>
                                </tr>
                                <tr>
                                    <td><strong>Grok</strong> (xAI)</td>
                                    <td>Grok 4.1</td>
                                    <td><span class="badge badge-amber">Embutido</span></td>
                                    <td><span class="badge badge-red">âœ— NÃ£o suporta</span></td>
                                    <td><strong>96% mais barato</strong></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ”‘</span>
                        <div><strong>API Keys:</strong> Configure a chave de cada provedor em ConfiguraÃ§Ãµes IA. O botÃ£o "Testar" verifica se a chave estÃ¡ vÃ¡lida.</div>
                    </div>
                    <div class="tip-box warning">
                        <span class="tip-icon">âš ï¸</span>
                        <div><strong>Grok e PDFs:</strong> O Grok nÃ£o suporta PDF binÃ¡rio. Ao usar Grok, a opÃ§Ã£o "PDF Puro" Ã© desabilitada e vocÃª deve extrair o texto primeiro.</div>
                    </div>
                </div>

                <!-- NOVO: Double Check -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âœ…</span>
                        <h3 class="card-title">Double Check (VerificaÃ§Ã£o SecundÃ¡ria)</h3>
                    </div>
                    <p>O Double Check Ã© uma <strong>segunda verificaÃ§Ã£o</strong> das respostas da IA, usando outro modelo para detectar erros, omissÃµes ou inconsistÃªncias.</p>

                    <p style="margin-top: 1rem;"><strong>OperaÃ§Ãµes suportadas:</strong></p>
                    <div class="quick-ref">
                        <div class="quick-ref-item"><span class="badge badge-green">âœ“</span> ExtraÃ§Ã£o de TÃ³picos</div>
                        <div class="quick-ref-item"><span class="badge badge-green">âœ“</span> GeraÃ§Ã£o de Dispositivo</div>
                        <div class="quick-ref-item"><span class="badge badge-green">âœ“</span> Revisar SentenÃ§a</div>
                        <div class="quick-ref-item"><span class="badge badge-green">âœ“</span> Confronto de Fatos</div>
                        <div class="quick-ref-item"><span class="badge badge-green">âœ“</span> AnÃ¡lise de Provas</div>
                        <div class="quick-ref-item"><span class="badge badge-green">âœ“</span> Quick Prompts</div>
                    </div>

                    <p style="margin-top: 1rem;"><strong>Como funciona:</strong></p>
                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>IA principal gera resposta</h4>
                                <p>O modelo selecionado (ex: Claude Sonnet) processa sua solicitaÃ§Ã£o</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Modelo verificador analisa</h4>
                                <p>Outro modelo (configurÃ¡vel) revisa a resposta buscando erros</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Modal de correÃ§Ãµes</h4>
                                <p>Se encontrar problemas, abre modal para vocÃª aceitar/rejeitar cada correÃ§Ã£o</p>
                            </div>
                        </div>
                    </div>

                    <div class="tip-box warning">
                        <span class="tip-icon">ğŸ’°</span>
                        <div><strong>Custo adicional:</strong> O Double Check faz uma requisiÃ§Ã£o extra Ã  API. Use em casos importantes onde a precisÃ£o Ã© crÃ­tica.</div>
                    </div>
                </div>

                <!-- NOVO: Melhoria de Voz -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ¤</span>
                        <h3 class="card-title">Melhoria AutomÃ¡tica de Voz</h3>
                    </div>
                    <p>Quando vocÃª usa o <strong>ditado por voz</strong>, a IA pode melhorar automaticamente o texto transcrito.</p>

                    <p style="margin-top: 1rem;"><strong>O que a IA corrige:</strong></p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>PontuaÃ§Ã£o ausente ou incorreta</li>
                        <li>FormataÃ§Ã£o de parÃ¡grafos</li>
                        <li>Palavras mal reconhecidas pelo speech-to-text</li>
                        <li>Estrutura das frases (sem alterar o conteÃºdo)</li>
                    </ul>

                    <p style="margin-top: 1rem;"><strong>Modelos rÃ¡pidos disponÃ­veis:</strong></p>
                    <div class="quick-ref">
                        <div class="quick-ref-item"><span class="badge badge-purple">Claude</span> Haiku</div>
                        <div class="quick-ref-item"><span class="badge badge-blue">Gemini</span> Flash</div>
                        <div class="quick-ref-item"><span class="badge badge-green">OpenAI</span> GPT-4o Mini</div>
                        <div class="quick-ref-item"><span class="badge badge-amber">Grok</span> Instant</div>
                    </div>

                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ’¡</span>
                        <div><strong>AtivaÃ§Ã£o:</strong> ConfiguraÃ§Ãµes IA â†’ "Melhoria de Voz" â†’ Ativar + escolher modelo</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ§ </span>
                        <h3 class="card-title">Pensamento Prolongado (Extended Thinking)</h3>
                    </div>
                    <p>Permite que a IA use tempo extra para anÃ¡lises mais profundas. O "thinking" Ã© configurÃ¡vel <strong>por modelo especÃ­fico</strong>.</p>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Budget</th>
                                    <th>Uso</th>
                                    <th>Recomendado para</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>10K tokens</td><td>AnÃ¡lise bÃ¡sica</td><td>Casos simples</td></tr>
                                <tr><td>20K tokens</td><td>BalanÃ§o ideal</td><td>Maioria dos casos</td></tr>
                                <tr><td>40K tokens</td><td>AnÃ¡lise profunda</td><td>Casos complexos</td></tr>
                                <tr><td>64K tokens</td><td>MÃ¡ximo</td><td>Casos muito complexos</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <p style="margin-top: 1rem;"><strong>Suporte por Provider:</strong></p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Provider</th>
                                    <th>Modelos</th>
                                    <th>Thinking</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>Claude</strong></td><td>Sonnet 4, Opus 4.5</td><td><span class="badge badge-green">ConfigurÃ¡vel</span></td></tr>
                                <tr><td><strong>Gemini</strong></td><td>Flash, Pro</td><td><span class="badge badge-green">ConfigurÃ¡vel</span></td></tr>
                                <tr><td><strong>OpenAI</strong></td><td>GPT-5.2</td><td><span class="badge badge-purple">Reasoning interno</span></td></tr>
                                <tr><td><strong>Grok</strong></td><td>4.1</td><td><span class="badge badge-amber">Embutido (nÃ£o configurÃ¡vel)</span></td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ“Š</span>
                        <div><strong>Log thinking:</strong> Ative em ConfiguraÃ§Ãµes para ver o raciocÃ­nio da IA no console. DisponÃ­vel apenas para modelos com thinking configurÃ¡vel.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“Š</span>
                        <h3 class="card-title">TÃ³picos por RequisiÃ§Ã£o</h3>
                    </div>
                    <p>Quantos mini-relatÃ³rios gerar por chamada Ã  API:</p>
                    <div class="quick-ref">
                        <div class="quick-ref-item"><strong>1</strong> = Mais requisiÃ§Ãµes, processamento individual</div>
                        <div class="quick-ref-item"><strong>3-5</strong> = Balanceado, recomendado</div>
                        <div class="quick-ref-item"><strong>Todos</strong> = 1 requisiÃ§Ã£o, mais rÃ¡pido</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”’</span>
                        <h3 class="card-title">AnonimizaÃ§Ã£o</h3>
                    </div>
                    <p>Quando ativada, remove dados sensÃ­veis antes de enviar Ã  IA:</p>
                    <div class="quick-ref">
                        <div class="quick-ref-item">âœ… CPF</div>
                        <div class="quick-ref-item">âœ… RG</div>
                        <div class="quick-ref-item">âœ… PIS/PASEP</div>
                        <div class="quick-ref-item">âœ… CTPS</div>
                        <div class="quick-ref-item">âœ… Telefones</div>
                        <div class="quick-ref-item">âœ… E-mails</div>
                        <div class="quick-ref-item">âœ… Dados BancÃ¡rios</div>
                        <div class="quick-ref-item">âœ… NÂº Processo</div>
                        <div class="quick-ref-item">âœ… Nomes (com NER)</div>
                        <div class="quick-ref-item">â¬œ Valores R$ (opcional)</div>
                    </div>
                    <div class="tip-box warning">
                        <span class="tip-icon">âš ï¸</span>
                        <div>AnonimizaÃ§Ã£o sÃ³ funciona com <strong>PDF.js</strong>. NÃ£o disponÃ­vel com PDF Puro ou Claude Vision.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“</span>
                        <h3 class="card-title">Templates Personalizados</h3>
                    </div>
                    <p>Defina a estrutura padrÃ£o para geraÃ§Ã£o de textos. SÃ£o <strong>4 templates</strong> configurÃ¡veis:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Template</th>
                                    <th>DescriÃ§Ã£o</th>
                                    <th>Quando Ã© Usado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Modelo de Mini-RelatÃ³rio</strong></td>
                                    <td>Template para os mini-relatÃ³rios automÃ¡ticos de cada tÃ³pico</td>
                                    <td>Na extraÃ§Ã£o de tÃ³picos e ao regenerar relatÃ³rio</td>
                                </tr>
                                <tr>
                                    <td><strong>Modelo de RELATÃ“RIO</strong></td>
                                    <td>Template especial para o tÃ³pico RELATÃ“RIO (histÃ³rico processual, partes, datas)</td>
                                    <td>Na geraÃ§Ã£o do relatÃ³rio principal da sentenÃ§a</td>
                                </tr>
                                <tr>
                                    <td><strong>Modelo de Dispositivo</strong></td>
                                    <td>Estrutura da parte dispositiva (verbos em negrito, itens numerados)</td>
                                    <td>Na geraÃ§Ã£o automÃ¡tica do dispositivo</td>
                                </tr>
                                <tr>
                                    <td><strong>Estilo de RedaÃ§Ã£o</strong></td>
                                    <td>InstruÃ§Ãµes gerais de estilo para toda a redaÃ§Ã£o</td>
                                    <td>Aplicado em todas as geraÃ§Ãµes de texto</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ’¡</span>
                        <div>Os templates podem conter placeholders como <code>[RECLAMANTE]</code>, <code>[RECLAMADA]</code>, <code>[DATA]</code> que serÃ£o substituÃ­dos automaticamente.</div>
                    </div>
                </div>

                <!-- NOVO: TÃ³picos Complementares AutomÃ¡ticos -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“‹</span>
                        <h3 class="card-title">TÃ³picos Complementares AutomÃ¡ticos</h3>
                    </div>
                    <p>ApÃ³s a extraÃ§Ã£o de tÃ³picos, o sistema pode adicionar automaticamente tÃ³picos padrÃ£o ao final:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>TÃ³pico</th>
                                    <th>Categoria</th>
                                    <th>DescriÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>HonorÃ¡rios AdvocatÃ­cios</strong></td><td>MÃ©rito</td><td>SucumbÃªncia e honorÃ¡rios do advogado</td></tr>
                                <tr><td><strong>HonorÃ¡rios Periciais</strong></td><td>MÃ©rito</td><td>Responsabilidade pelos custos periciais</td></tr>
                                <tr><td><strong>Juros e CorreÃ§Ã£o MonetÃ¡ria</strong></td><td>MÃ©rito</td><td>Ãndices de correÃ§Ã£o e taxa de juros</td></tr>
                                <tr><td><strong>DeduÃ§Ãµes PrevidenciÃ¡rias e Fiscais</strong></td><td>MÃ©rito</td><td>INSS e IRRF sobre as verbas</td></tr>
                                <tr><td><strong>CompensaÃ§Ã£o/DeduÃ§Ã£o/Abatimento</strong></td><td>MÃ©rito</td><td>Valores jÃ¡ pagos a compensar</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <p style="margin-top: 1rem;"><strong>ConfiguraÃ§Ã£o:</strong> Cada tÃ³pico pode ser ativado/desativado individualmente. A ordem pode ser alterada arrastando.</p>
                </div>

                <!-- NOVO: Dashboard de Tokens -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“Š</span>
                        <h3 class="card-title">Dashboard de Uso de Tokens</h3>
                    </div>
                    <p>O painel de monitoramento exibe mÃ©tricas de uso da API:</p>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ”¢</span>
                            <div class="feature-text">
                                <h4>Total de Tokens</h4>
                                <p>Entrada + SaÃ­da + Cache</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“¡</span>
                            <div class="feature-text">
                                <h4>RequisiÃ§Ãµes</h4>
                                <p>NÃºmero de chamadas Ã  API</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ’¾</span>
                            <div class="feature-text">
                                <h4>Taxa de Cache</h4>
                                <p>Percentual de reuso (economia)</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“ˆ</span>
                            <div class="feature-text">
                                <h4>Breakdown</h4>
                                <p>Input, Output, Cache Read/Write</p>
                            </div>
                        </div>
                    </div>
                    <p style="margin-top: 1rem;"><strong>Custo Estimado por Modelo:</strong></p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Modelo</th>
                                    <th>Input</th>
                                    <th>Output</th>
                                    <th>Cache Read</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>Sonnet 4/4.5</strong></td><td>$3.00/1M</td><td>$15.00/1M</td><td>$0.30/1M</td></tr>
                                <tr><td><strong>Opus 4.5</strong></td><td>$5.00/1M</td><td>$25.00/1M</td><td>$0.50/1M</td></tr>
                                <tr><td><strong>Gemini 3 Flash</strong></td><td>$0.50/1M</td><td>$3.00/1M</td><td>$0.05/1M</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tip-box success">
                        <span class="tip-icon">ğŸ’°</span>
                        <div>O sistema usa <strong>cache automÃ¡tico</strong> para reutilizar contexto entre requisiÃ§Ãµes, economizando 40-50% dos tokens.</div>
                    </div>
                </div>

                <!-- NOVO: Salvamento AutomÃ¡tico -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ’¾</span>
                        <h3 class="card-title">Salvamento AutomÃ¡tico</h3>
                    </div>
                    <p>O sistema salva seu trabalho automaticamente para evitar perda de dados:</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>CaracterÃ­stica</th>
                                    <th>DescriÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>FrequÃªncia</strong></td><td>Salva automaticamente a cada <strong>10 segundos</strong> de inatividade</td></tr>
                                <tr><td><strong>Indicador Visual</strong></td><td>"Auto-salvando..." aparece brevemente na interface</td></tr>
                                <tr><td><strong>Salvamento Manual</strong></td><td><kbd>Ctrl+S</kbd> salva imediatamente</td></tr>
                                <tr><td><strong>Armazenamento</strong></td><td>localStorage (metadados) + IndexedDB (modelos, PDFs, textos de provas, anÃ¡lises)</td></tr>
                                <tr><td><strong>PersistÃªncia</strong></td><td>Dados persistem mesmo apÃ³s fechar o navegador</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tip-box success">
                        <span class="tip-icon">ğŸ’¾</span>
                        <div><strong>Textos grandes agora no IndexedDB:</strong> Textos de OCR, uploads colados e anÃ¡lises de provas sÃ£o salvos no IndexedDB (em vez de localStorage), evitando problemas de estouro de quota (~5-10MB).</div>
                    </div>
                    <div class="tip-box warning">
                        <span class="tip-icon">âš ï¸</span>
                        <div><strong>AtenÃ§Ã£o:</strong> Limpar dados do navegador (Ctrl+Shift+Del) apaga tudo! Exporte backups regularmente.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âš¡</span>
                        <h3 class="card-title">Prompts RÃ¡pidos</h3>
                    </div>
                    <p>Atalhos prÃ©-configurados para o Assistente IA:</p>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">âš–ï¸</span>
                            <div class="feature-text">
                                <h4>Avaliar DecisÃ£o</h4>
                                <p>AnÃ¡lise crÃ­tica da qualidade</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">âœ¨</span>
                            <div class="feature-text">
                                <h4>Sugerir Melhorias</h4>
                                <p>RecomendaÃ§Ãµes de redaÃ§Ã£o</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ”</span>
                            <div class="feature-text">
                                <h4>Verificar OmissÃµes</h4>
                                <p>Encontra pontos nÃ£o abordados</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ¤</span>
                            <div class="feature-text">
                                <h4>AnÃ¡lise de Prova Oral</h4>
                                <p>Extrai informaÃ§Ãµes de depoimentos</p>
                            </div>
                        </div>
                    </div>
                    <p style="margin-top: 1rem;">VocÃª pode editar, adicionar ou remover prompts nas configuraÃ§Ãµes.</p>

                    <div class="tip-box warning">
                        <span class="tip-icon">ğŸ”’</span>
                        <div><strong>Prompts padrÃ£o protegidos:</strong> Os 5 prompts originais (Avaliar, Melhorar, Verificar OmissÃµes, etc.) sÃ£o <strong>readonly</strong> e exibem Ã­cone de cadeado. VocÃª pode criar novos prompts personalizados, que podem ser editados e excluÃ­dos livremente.</div>
                    </div>
                </div>

                <!-- NOVO: Compartilhamento de AnÃ¡lises de Prova Oral -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ‘¥</span>
                        <h3 class="card-title">Compartilhamento de AnÃ¡lises (Prova Oral)</h3>
                    </div>
                    <p>Compartilhe suas anÃ¡lises de prova oral com colegas:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Acesse <strong>ConfiguraÃ§Ãµes > Compartilhamento</strong></li>
                        <li>Selecione usuÃ¡rios que podem ver suas anÃ¡lises</li>
                        <li>AnÃ¡lises compartilhadas exibem <strong>badge visual</strong> no histÃ³rico</li>
                        <li>Seus colegas podem ver (nÃ£o editar) as anÃ¡lises compartilhadas</li>
                    </ul>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ”</span>
                        <div><strong>Privacidade:</strong> Apenas usuÃ¡rios explicitamente autorizados tÃªm acesso. VocÃª pode revogar o compartilhamento a qualquer momento.</div>
                    </div>
                </div>

                <!-- NOVO: Importar/Exportar ConfiguraÃ§Ãµes -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“¦</span>
                        <h3 class="card-title">Importar / Exportar ConfiguraÃ§Ãµes</h3>
                    </div>
                    <p>FaÃ§a backup ou transfira suas configuraÃ§Ãµes entre navegadores:</p>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“¤</span>
                            <div class="feature-text">
                                <h4>Exportar</h4>
                                <p>Baixa JSON com: templates, thresholds, prompts rÃ¡pidos, configuraÃ§Ãµes de anonimizaÃ§Ã£o</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“¥</span>
                            <div class="feature-text">
                                <h4>Importar</h4>
                                <p>Restaura configuraÃ§Ãµes de um backup anterior</p>
                            </div>
                        </div>
                    </div>
                    <p style="margin-top: 1rem;"><strong>LocalizaÃ§Ã£o:</strong> BotÃµes no topo do modal de ConfiguraÃ§Ãµes IA</p>
                </div>
            </div>

            <!-- Atalhos Tab -->
            <div id="atalhos" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">âŒ¨ï¸</span>
                    <div>
                        <h2 class="section-title">Atalhos de Teclado</h2>
                        <p class="section-subtitle">Navegue e edite mais rÃ¡pido</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âœï¸</span>
                        <h3 class="card-title">Editor de Texto</h3>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Atalho</th>
                                    <th>AÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><kbd>Ctrl</kbd> + <kbd>B</kbd></td><td>Negrito</td></tr>
                                <tr><td><kbd>Ctrl</kbd> + <kbd>I</kbd></td><td>ItÃ¡lico</td></tr>
                                <tr><td><kbd>Ctrl</kbd> + <kbd>U</kbd></td><td>Sublinhado</td></tr>
                                <tr><td><kbd>Ctrl</kbd> + <kbd>Z</kbd></td><td>Desfazer</td></tr>
                                <tr><td><kbd>Ctrl</kbd> + <kbd>Y</kbd></td><td>Refazer</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ–¥ï¸</span>
                        <h3 class="card-title">NavegaÃ§Ã£o e Modos</h3>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Atalho</th>
                                    <th>AÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><kbd>Ctrl</kbd> + <kbd>S</kbd></td><td>Salvar (sem fechar)</td></tr>
                                <tr><td><kbd>Ctrl</kbd> + <kbd>F</kbd></td><td>Fullscreen (toggle)</td></tr>
                                <tr><td><kbd>Ctrl</kbd> + <kbd>M</kbd></td><td>Split Mode - Modelos (toggle)</td></tr>
                                <tr><td><kbd>ESC</kbd></td><td>Fechar modal / Sair de modo especial</td></tr>
                                <tr><td><kbd>Alt</kbd> + <kbd>EspaÃ§o</kbd></td><td>Abrir sugestÃµes de modelos</td></tr>
                                <tr><td><kbd>/</kbd></td><td>Abrir menu de Slash Commands (no chat)</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“‹</span>
                        <h3 class="card-title">TÃ³picos</h3>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Atalho</th>
                                    <th>AÃ§Ã£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><kbd>â†‘</kbd> <kbd>â†“</kbd></td><td>Mover tÃ³pico para cima/baixo</td></tr>
                                <tr><td>NÃºmeros <kbd>1</kbd>-<kbd>9</kbd></td><td>Ir para posiÃ§Ã£o especÃ­fica</td></tr>
                                <tr><td>Arrastar</td><td>Reordenar tÃ³picos</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- IA Local Tab -->
            <div id="ia-local" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">ğŸ§ </span>
                    <div>
                        <h2 class="section-title">IA Local (Offline)</h2>
                        <p class="section-subtitle">Modelos que rodam 100% no navegador</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”’</span>
                        <h3 class="card-title">Por que usar IA Local?</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ”</span>
                            <div class="feature-text">
                                <h4>Privacidade Total</h4>
                                <p>Dados nunca saem do seu navegador</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ’°</span>
                            <div class="feature-text">
                                <h4>Custo Zero</h4>
                                <p>Sem cobranÃ§as por uso de API</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">âš¡</span>
                            <div class="feature-text">
                                <h4>InstantÃ¢neo</h4>
                                <p>Respostas em milissegundos</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ“´</span>
                            <div class="feature-text">
                                <h4>Funciona Offline</h4>
                                <p>ApÃ³s carregar, nÃ£o precisa de internet</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ‘¤</span>
                        <h3 class="card-title">Modelo NER (DetecÃ§Ã£o de Nomes)</h3>
                    </div>
                    <p><strong>Finalidade:</strong> Detecta automaticamente nomes de pessoas para anonimizaÃ§Ã£o</p>
                    <p><strong>Uso de RAM:</strong> ~200-300MB quando carregado</p>
                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Upload dos arquivos do modelo</h4>
                                <p>6 arquivos: config.json, tokenizer.json, tokenizer_config.json, vocab.txt, model_quantized.onnx, ort-wasm.wasm</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Clique em "Inicializar"</h4>
                                <p>Carrega o modelo na memÃ³ria. Badge fica verde quando pronto.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Use "Detectar Nomes"</h4>
                                <p>No modal de anonimizaÃ§Ã£o, clique para detectar automaticamente.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”</span>
                        <h3 class="card-title">Modelo E5-base (Busca SemÃ¢ntica)</h3>
                    </div>
                    <p><strong>Finalidade:</strong> Permite busca por significado em legislaÃ§Ã£o, jurisprudÃªncia e modelos</p>
                    <p><strong>Uso de RAM:</strong> ~400-500MB quando carregado</p>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“œ Embeddings de LegislaÃ§Ã£o</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p>Gere offline com Python: <code>python generate_embeddings.py</code></p>
                                <p>Importe o JSON gerado em ConfiguraÃ§Ãµes IA > LegislaÃ§Ã£o > Importar JSON</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“š Embeddings de JurisprudÃªncia</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p>Gere offline com Python: <code>python generate_juris_embeddings.py</code></p>
                                <p>Suporta chunking automÃ¡tico para teses longas (IRR, IAC)</p>
                                <p>Importe o JSON em ConfiguraÃ§Ãµes IA > JurisprudÃªncia > Importar JSON</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“¦ Embeddings de Modelos</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p>Gere diretamente na interface: ConfiguraÃ§Ãµes IA > Modelos > Gerar Embeddings</p>
                                <p>Ative "SugestÃµes via IA Local" para sugestÃµes instantÃ¢neas sem API</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tip-box success">
                    <span class="tip-icon">ğŸ’¡</span>
                    <div>
                        <strong>Dica de Performance:</strong> Descarregue modelos nÃ£o utilizados para liberar memÃ³ria. Os arquivos permanecem salvos no IndexedDB para rÃ¡pida reinicializaÃ§Ã£o.
                    </div>
                </div>

                <!-- Chamadas Ã  API Claude -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“¡</span>
                        <h3 class="card-title">Chamadas Ã  API Claude (Custo por Uso)</h3>
                    </div>
                    <p>Estas operaÃ§Ãµes enviam dados Ã  API Claude e consomem tokens. Entenda o que Ã© enviado em cada requisiÃ§Ã£o para estimar custos:</p>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“„ ExtraÃ§Ã£o de TÃ³picos</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>System prompt com instruÃ§Ãµes de formataÃ§Ã£o</li>
                                    <li>PetiÃ§Ã£o inicial completa</li>
                                    <li>ContestaÃ§Ã£o completa</li>
                                    <li>Documentos complementares (se ativado)</li>
                                    <li>InstruÃ§Ãµes para gerar mini-relatÃ³rios</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ” AnÃ¡lise de Prova (Contextual)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>PetiÃ§Ã£o + ContestaÃ§Ã£o + Complementares (cache)</li>
                                    <li>Texto/PDF da prova analisada</li>
                                    <li>Mini-relatÃ³rios dos tÃ³picos vinculados</li>
                                    <li>InstruÃ§Ã£o customizada (se houver)</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“‹ AnÃ¡lise de Prova (Livre)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>Apenas a prova</li>
                                    <li>InstruÃ§Ã£o customizada</li>
                                    <li>Opcionalmente: tÃ³picos vinculados</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ’¡ SugestÃµes de Modelos (via API)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>TÃ­tulo + Categoria + Mini-relatÃ³rio do tÃ³pico</li>
                                    <li>Top 10 modelos candidatos (prÃ©-selecionados por TF-IDF)</li>
                                    <li>InstruÃ§Ã£o para ordenar por relevÃ¢ncia real</li>
                                </ul>
                                <p class="tip" style="margin-top: 10px;">ğŸ’¡ <strong>Dica:</strong> Ative "IA Local" em ConfiguraÃ§Ãµes para sugestÃµes gratuitas e offline.</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>âš–ï¸ GeraÃ§Ã£o de Dispositivo</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>Todos os tÃ³picos selecionados (tÃ­tulo, categoria, mini-relatÃ³rio, fundamentaÃ§Ã£o, RESULTADO)</li>
                                    <li>Primeiro parÃ¡grafo do relatÃ³rio (nomes das partes)</li>
                                    <li>Template de dispositivo (se configurado)</li>
                                    <li>InstruÃ§Ãµes de formataÃ§Ã£o (verbos negrito, itens numerados)</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ” RevisÃ£o da SentenÃ§a</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p><strong>OpÃ§Ã£o 1:</strong> Apenas decisÃ£o (RelatÃ³rio + FundamentaÃ§Ãµes + Dispositivo)</p>
                                <p><strong>OpÃ§Ã£o 2:</strong> DecisÃ£o + Documentos originais</p>
                                <p>System prompt especializado com protocolo 5 fases, exemplos de omissÃµes, contradiÃ§Ãµes e obscuridades</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ“š Refinamento de JurisprudÃªncia</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>TÃ­tulo + Mini-relatÃ³rio do tÃ³pico</li>
                                    <li>AtÃ© 40 precedentes candidatos (tipo, nÃºmero, tribunal, tÃ­tulo, tese resumida)</li>
                                    <li>InstruÃ§Ã£o para selecionar os 10 mais relevantes</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ’¬ Chat / Assistente IA</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <p><strong>Sempre enviado:</strong></p>
                                <ul>
                                    <li>HistÃ³rico da conversa (atÃ© 20 mensagens)</li>
                                    <li>Contexto do tÃ³pico atual (tÃ­tulo, mini-relatÃ³rio, fundamentaÃ§Ã£o)</li>
                                    <li>Documentos do processo (petiÃ§Ã£o, contestaÃ§Ã£o, complementares)</li>
                                </ul>
                                <p style="margin-top: 10px;"><strong>Provas vinculadas ao tÃ³pico:</strong></p>
                                <ul>
                                    <li><strong>PadrÃ£o:</strong> Nome + AnÃ¡lise IA + ConclusÃµes do juiz</li>
                                    <li><strong>Com toggle ativado:</strong> + ConteÃºdo completo da prova</li>
                                </ul>
                                <p class="tip" style="margin-top: 10px;">âš ï¸ <strong>AtenÃ§Ã£o:</strong> Os documentos sÃ£o enviados em toda mensagem do chat. Veja a seÃ§Ã£o "Provas no Assistente IA" na aba Provas para detalhes.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Processamento Local -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ§ </span>
                        <h3 class="card-title">Processamento Local (Gratuito / Offline)</h3>
                    </div>
                    <p>Estas operaÃ§Ãµes rodam 100% no seu navegador, sem enviar dados Ã  API. Custo zero e funcionam offline:</p>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ’¡ SugestÃµes de Modelos (IA Local)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>Gera embedding do tÃ³pico (tÃ­tulo + categoria + mini-relatÃ³rio)</li>
                                    <li>Compara com embeddings prÃ©-computados dos modelos</li>
                                    <li>Retorna os 5 mais similares acima do threshold</li>
                                </ul>
                                <p><strong>Requisito:</strong> Modelos precisam ter embeddings (gerados via Python ou ao salvar)</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ” Busca SemÃ¢ntica (LegislaÃ§Ã£o)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>Texto digitado â†’ embedding com prefixo "query: "</li>
                                    <li>ComparaÃ§Ã£o com embeddings dos artigos (prefixo "passage: ")</li>
                                    <li>Threshold configurÃ¡vel (20-80%)</li>
                                </ul>
                                <p><strong>Requisito:</strong> Arquivo de embeddings importado (JSON do Python)</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ” Busca SemÃ¢ntica (JurisprudÃªncia)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>Texto digitado â†’ embedding com prefixo "query: "</li>
                                    <li>ComparaÃ§Ã£o com embeddings das teses (com chunking para teses longas)</li>
                                    <li>Threshold configurÃ¡vel (20-80%)</li>
                                </ul>
                                <p><strong>Requisito:</strong> Arquivo de embeddings importado (JSON do Python)</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ” Busca SemÃ¢ntica (Modelos)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>Texto digitado na busca â†’ embedding</li>
                                    <li>ComparaÃ§Ã£o com embeddings dos modelos</li>
                                    <li>Toggle ğŸ§ /ğŸ”¤ para alternar entre semÃ¢ntico e textual</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h3>ğŸ‘¤ DetecÃ§Ã£o de Nomes (NER)</h3>
                            <span class="collapsible-arrow">â–¼</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <ul>
                                    <li>Modelo BERT treinado para portuguÃªs</li>
                                    <li>Detecta entidades do tipo PESSOA no texto</li>
                                    <li>Usado na anonimizaÃ§Ã£o automÃ¡tica</li>
                                </ul>
                                <p><strong>Requisito:</strong> Arquivos do modelo NER carregados em ConfiguraÃ§Ãµes IA</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dicas Tab -->
            <div id="dicas" class="tab-content">
                <div class="section-header">
                    <span class="section-icon">ğŸ’¡</span>
                    <div>
                        <h2 class="section-title">Dicas e Boas PrÃ¡ticas</h2>
                        <p class="section-subtitle">Maximize sua produtividade</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âš¡</span>
                        <h3 class="card-title">Performance</h3>
                    </div>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Use <strong>PDF.js</strong> em vez de Claude Vision para PDFs nativos (mais rÃ¡pido e gratuito)</li>
                        <li>Configure <strong>"TÃ³picos por RequisiÃ§Ã£o"</strong> para 5 ou "Todos" para acelerar</li>
                        <li>Ative <strong>IA Local</strong> para buscas e sugestÃµes instantÃ¢neas</li>
                        <li>Descarregue modelos NER/E5 quando nÃ£o estiver usando (libera RAM)</li>
                    </ul>
                    <div class="tip-box success">
                        <span class="tip-icon">âš¡</span>
                        <div><strong>OperaÃ§Ãµes longas:</strong> AnÃ¡lises, geraÃ§Ã£o de dispositivo, confronto de fatos e revisÃ£o de sentenÃ§a usam <strong>streaming</strong> para evitar timeout. VocÃª pode ver o progresso em tempo real em algumas operaÃ§Ãµes.</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ’°</span>
                        <h3 class="card-title">Economia de Tokens</h3>
                    </div>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Use <strong>"Apenas mini-relatÃ³rios"</strong> na anÃ¡lise de provas (menos contexto)</li>
                        <li>Ative <strong>SugestÃµes via IA Local</strong> â€” custo zero para sugestÃµes de modelos</li>
                        <li>Use <strong>busca semÃ¢ntica local</strong> em vez de refinamento via API</li>
                        <li>O sistema usa <strong>cache de prompts</strong> automaticamente para documentos longos</li>
                        <li>Considere <strong>Grok</strong> para tarefas simples â€” <strong>96% mais barato</strong> que Claude!</li>
                        <li>Use <strong>Gemini Flash</strong> para rascunhos rÃ¡pidos â€” ~50% mais barato que Claude</li>
                        <li>No chat, desative <strong>"Incluir documentos principais"</strong> quando nÃ£o precisar deles</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”</span>
                        <h3 class="card-title">SeguranÃ§a de Dados</h3>
                    </div>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Ative <strong>AnonimizaÃ§Ã£o</strong> para casos sensÃ­veis</li>
                        <li>Use <strong>detecÃ§Ã£o automÃ¡tica de nomes</strong> (NER local) para nÃ£o esquecer ninguÃ©m</li>
                        <li>Modelo NER e busca semÃ¢ntica sÃ£o <strong>100% offline</strong> â€” dados nÃ£o saem do navegador</li>
                        <li>Exporte projetos regularmente como <strong>backup</strong></li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“</span>
                        <h3 class="card-title">Qualidade da RedaÃ§Ã£o</h3>
                    </div>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Use <strong>"Revisar SentenÃ§a"</strong> antes de finalizar â€” encontra omissÃµes e contradiÃ§Ãµes</li>
                        <li>Configure <strong>templates personalizados</strong> para manter consistÃªncia</li>
                        <li>Use o <strong>versionamento</strong> para experimentar sem medo (ğŸ“œ restaura versÃµes)</li>
                        <li>Sempre selecione o <strong>resultado correto</strong> antes de gerar dispositivo</li>
                    </ul>
                </div>

                <!-- NOVO: Double Check e Recursos AvanÃ§ados -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âœ…</span>
                        <h3 class="card-title">Double Check e Recursos AvanÃ§ados</h3>
                    </div>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Ative <strong>Double Check</strong> para casos complexos ou quando quiser certeza extra</li>
                        <li>O Double Check consome tokens adicionais â€” use com moderaÃ§Ã£o em tarefas simples</li>
                        <li>O <strong>EstagiÃ¡rio SocrÃ¡tico</strong> estÃ¡ sempre ativo â€” a IA pergunta o fundamento quando vocÃª dÃ¡ instruÃ§Ãµes vagas</li>
                        <li>DÃª instruÃ§Ãµes completas (ex: "Indefira pela validade dos cartÃµes") para a IA redigir direto</li>
                        <li>Use <strong>Confronto de Fatos</strong> para ter visÃ£o clara do que Ã© controverso vs incontroverso</li>
                        <li>O <strong>Ditado por Voz</strong> com melhoria automÃ¡tica economiza tempo em textos longos</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ—‚ï¸</span>
                        <h3 class="card-title">OrganizaÃ§Ã£o</h3>
                    </div>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li><strong>Vincule provas</strong> aos tÃ³picos corretos para anÃ¡lise contextual precisa</li>
                        <li>Use <strong>categorias</strong> nos modelos para facilitar busca</li>
                        <li>Marque modelos frequentes como <strong>favoritos</strong> (â­)</li>
                        <li><strong>Exporte modelos</strong> regularmente â€” sÃ£o sua biblioteca pessoal</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”’</span>
                        <h3 class="card-title">Bloqueio de Abas (Multi-Tab)</h3>
                    </div>
                    <p>O Sentencify usa <strong>localStorage</strong>, que Ã© compartilhado entre abas do mesmo navegador. Para evitar conflitos:</p>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li>Apenas <strong>uma aba</strong> pode editar o projeto por vez</li>
                        <li>Se vocÃª abrir o Sentencify em outra aba, verÃ¡ um <strong>overlay de bloqueio</strong></li>
                        <li>Clique em <strong>"Assumir Controle"</strong> para transferir a ediÃ§Ã£o para esta aba</li>
                        <li>A aba anterior serÃ¡ bloqueada automaticamente</li>
                    </ul>
                    <div class="tip-box info">
                        <span class="tip-icon">ğŸ’¡</span>
                        <div>Isso previne que alteraÃ§Ãµes de uma aba sobrescrevam as de outra. Sempre trabalhe em <strong>apenas uma aba</strong> para evitar confusÃ£o.</div>
                    </div>
                </div>

                <div class="tip-box success">
                    <span class="tip-icon">ğŸ¯</span>
                    <div>
                        <strong>Fluxo Ideal:</strong> Upload â†’ AnÃ¡lise â†’ Refine tÃ³picos â†’ Vincule provas â†’ Edite com sugestÃµes â†’ Gere dispositivo â†’ Revise â†’ Exporte!
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
        <button class="mobile-nav-item active" onclick="showTab('intro')">
            <span>ğŸ </span>
            InÃ­cio
        </button>
        <button class="mobile-nav-item" onclick="showTab('upload')">
            <span>ğŸ“¤</span>
            Upload
        </button>
        <button class="mobile-nav-item" onclick="showTab('topicos')">
            <span>ğŸ“‹</span>
            TÃ³picos
        </button>
        <button class="mobile-nav-item" onclick="showTab('provas')">
            <span>âš–ï¸</span>
            Provas
        </button>
        <button class="mobile-nav-item" onclick="showTab('editor')">
            <span>âœï¸</span>
            Editor
        </button>
        <button class="mobile-nav-item" onclick="showTab('juris')">
            <span>ğŸ“–</span>
            Juris
        </button>
        <button class="mobile-nav-item" onclick="showTab('legis')">
            <span>ğŸ“œ</span>
            Legis
        </button>
        <button class="mobile-nav-item" onclick="showTab('modelos')">
            <span>ğŸ“¦</span>
            Modelos
        </button>
        <button class="mobile-nav-item" onclick="showTab('prova-oral')">
            <span>ğŸ¤</span>
            Oral
        </button>
        <button class="mobile-nav-item" onclick="showTab('config')">
            <span>âš™ï¸</span>
            Config
        </button>
    </nav>

    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // THEME SYNCHRONIZATION WITH SentencifyAI
        // Uses 'sentencify-app-theme' localStorage key
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        function initializeTheme() {
            // Check SentencifyAI theme first, then fallback to manual's own theme
            const appTheme = localStorage.getItem('sentencify-app-theme');
            const manualTheme = localStorage.getItem('manual-theme');

            // Priority: sentencify-app-theme > manual-theme > default 'dark'
            const theme = appTheme || manualTheme || 'dark';
            document.documentElement.setAttribute('data-theme', theme);
            updateThemeIcon(theme);
        }

        function updateThemeIcon(theme) {
            const btn = document.querySelector('.theme-toggle');
            if (btn) {
                btn.textContent = theme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸';
                btn.title = theme === 'light' ? 'Alternar para tema escuro' : 'Alternar para tema claro';
            }
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

            document.documentElement.setAttribute('data-theme', newTheme);
            updateThemeIcon(newTheme);

            // Save to both keys for compatibility
            localStorage.setItem('manual-theme', newTheme);
            localStorage.setItem('sentencify-app-theme', newTheme);
        }

        // Listen for theme changes from other tabs (SentencifyAI app)
        window.addEventListener('storage', (e) => {
            if (e.key === 'sentencify-app-theme' && e.newValue) {
                document.documentElement.setAttribute('data-theme', e.newValue);
                updateThemeIcon(e.newValue);
            }
        });

        // Initialize theme on load
        initializeTheme();

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // TAB NAVIGATION
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        function showTab(tabId) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // Remove active from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Show selected tab
            const targetTab = document.getElementById(tabId);
            if (targetTab) {
                targetTab.classList.add('active');
            }

            // Activate nav item
            document.querySelectorAll('.nav-item').forEach(item => {
                if (item.onclick && item.onclick.toString().includes(tabId)) {
                    item.classList.add('active');
                }
            });
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                if (item.onclick && item.onclick.toString().includes(tabId)) {
                    item.classList.add('active');
                }
            });

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Save last viewed tab
            localStorage.setItem('manual-last-tab', tabId);
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // COLLAPSIBLE SECTIONS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        function toggleCollapsible(header) {
            const collapsible = header.parentElement;
            collapsible.classList.toggle('open');
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // KEYBOARD NAVIGATION
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                // Close any open collapsibles
                document.querySelectorAll('.collapsible.open').forEach(c => {
                    c.classList.remove('open');
                });
            }
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // RESTORE LAST TAB ON LOAD
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        document.addEventListener('DOMContentLoaded', () => {
            const lastTab = localStorage.getItem('manual-last-tab');
            if (lastTab && document.getElementById(lastTab)) {
                showTab(lastTab);
            }
        });
    </script>
</body>
</html>
